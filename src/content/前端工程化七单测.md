---
title: å‰ç«¯è¿›é˜¶ï¼ˆä¸ƒï¼‰-å•å…ƒæµ‹è¯•
date: 2020-12-15 21:40:33
categories: IT
tags:
    - ITï¼ŒWeb,æ•°æ®åº“
toc: true
thumbnail: https://cdn.kunkunzhang.top/babel-js.png
---

ã€€ã€€å‰ç«¯å•å…ƒæµ‹è¯•åº“

<!--more-->

## è½¯ä»¶æµ‹è¯•å…¥é—¨

https://bobi.ink/2019/07/10/typeof-testing/

- åŠŸèƒ½æµ‹è¯•ç±»å‹:
  - å•å…ƒæµ‹è¯•(Unit testing)
  - é›†æˆæµ‹è¯•(Integration testing)
  - ç³»ç»Ÿæµ‹è¯•(System testing)
  - å¥å…¨æ€§æµ‹è¯•(Sanity testing)
  - å†’çƒŸæµ‹è¯•(Smoke testing)
  - æ¥å£æµ‹è¯•(Interface testing)
  - å›å½’æµ‹è¯•(Regression testing)
  - Beta/éªŒæ”¶æµ‹è¯•(Beta/Acceptance testing)
- éåŠŸèƒ½æµ‹è¯•ç±»å‹:
  - æ€§èƒ½æµ‹è¯•(Performance Testing)
  - è´Ÿè½½æµ‹è¯•(Load testing)
  - å‹åŠ›æµ‹è¯•(Stress testing)
  - å®¹é‡æµ‹è¯•(Volume testing)
  - å®‰å…¨æµ‹è¯•(Security testing)
  - å…¼å®¹æ€§æµ‹è¯•(Compatibility testing)
  - å®‰è£…æµ‹è¯•(Install testing)
  - æ¢å¤æµ‹è¯•(Recovery testing)
  - å¯é æ€§æµ‹è¯•(Reliability testing)
  - å¯ç”¨æ€§æµ‹è¯•(Usability testing)
  - ä¸€è‡´æ€§æµ‹è¯•(Compliance testing)
  - æœ¬åœ°åŒ–æµ‹è¯•(Localization testing)

ç­‰ä»·åˆ’åˆ†

ç­‰ä»·åˆ’åˆ†, è¿™æ˜¯ä¸€ç§é»‘ç›’æµ‹è¯•çš„æµ‹è¯•æŠ€æœ¯. **é€šè¿‡ç­‰ä»·åˆ’åˆ†ï¼Œå¯ä»¥å°†æ‰€æœ‰çš„è¾“å…¥æ•°æ®åˆç†åœ°åˆ’åˆ†ä¸ºå¤šä¸ªåˆ†ç»„ï¼Œæˆ‘ä»¬åªéœ€åœ¨æ¯ä¸ªåˆ†ç»„ä¸­å–ä¸€ä¸ªæ•°æ®ä½œä¸ºæµ‹è¯•çš„è¾“å…¥æ¡ä»¶, è¿™æ ·å¯ä»¥å®ç°ç”¨å°‘é‡ä»£è¡¨æ€§çš„æµ‹è¯•æ•°æ®å–å¾—è¾ƒå¥½çš„æµ‹è¯•ç»“æœ**.

æ‰€ä»¥è¯´è¿™ä¸ªæµ‹è¯•çš„ç›®çš„: æ˜¯åœ¨ä¸å¯¼è‡´ç¼ºé™·çš„å‰æä¸‹ï¼Œç§»é™¤æŒ‡å®šåˆ†ç»„ä¸­çš„é‡å¤çš„ç”¨ä¾‹, ç®€åŒ–æµ‹è¯•çš„å·¥ä½œ

ç»„ä»¶æµ‹è¯•

[ç»„ä»¶æµ‹è¯•](https://www.guru99.com/component-testing.html)(æ­¤ç»„ä»¶éGUIç»„ä»¶, å–ç»„åˆæµ‹è¯•å¯èƒ½æ›´å¥½ç†è§£ä¸€ç‚¹)ï¼Œ**ä¸€èˆ¬ä¹Ÿç§°ä¸ºæ¨¡å—æµ‹è¯•(Module Testing), ä¸€èˆ¬ç”±å¼€å‘è€…åœ¨å®Œæˆå•å…ƒæµ‹è¯•åæ‰§è¡Œã€‚ç»„ä»¶æµ‹è¯•å°†å¤šä¸ªåŠŸèƒ½ç»„åˆèµ·æ¥ä½œä¸ºå•ä¸€çš„æ•´ä½“è¿›è¡Œæµ‹è¯•ï¼Œç›®çš„æ˜¯å‘ç°å¤šä¸ªåŠŸèƒ½åœ¨ç›¸äº’è¿æ¥èµ·æ¥ä¹‹åçš„ç¼ºé™·**ã€‚

ç»„ä»¶æµ‹è¯•å¯å¤§å¯å°ï¼Œå°åˆ°å‡½æ•°çº§åˆ«æˆ–è€…ç±»çº§åˆ«çš„ç»„åˆï¼Œå¤§å¯ä»¥å¤§åˆ°å‡ ä¸ªå•ç‹¬çš„é¡µé¢ã€æ¨¡å—ã€å­ç³»ç»Ÿçš„ç»„åˆã€‚ ä¸¾ä¸€ä¸ªå‰ç«¯ä¾‹å­ï¼Œå°†å¤šä¸ªé¡µé¢è·¯ç”±ç»„åˆèµ·æ¥ï¼Œæµ‹è¯•å®ƒä»¬çš„æµç¨‹è·³è½¬ï¼Œå°±å±äºç»„ä»¶æµ‹è¯•ã€‚

ç«¯åˆ°ç«¯æµ‹è¯•

ç«¯åˆ°ç«¯æµ‹è¯•ä¹Ÿæ˜¯ä¸€ç§é»‘ç›’æµ‹è¯•ç±»å‹ï¼Œç±»ä¼¼äºç³»ç»Ÿæµ‹è¯•. **ç«¯åˆ°ç«¯æµ‹è¯•åœ¨æ¨¡æ‹Ÿçš„ã€å®Œæ•´çš„ã€çœŸå®åº”ç”¨ç¯å¢ƒä¸‹æ¨¡æ‹ŸçœŸå®ç”¨æˆ·å¯¹åº”ç”¨è¿›è¡Œæµ‹è¯•ï¼Œæ¯”å¦‚åº”ç”¨ä¼šå’Œæ•°æ®åº“äº¤äº’ã€ä¼šä½¿ç”¨ç½‘ç»œé€šä¿¡ã€æˆ–è€…åœ¨é€‚å½“çš„æƒ…å†µä¸‹å’Œå…¶ä»–ç¡¬ä»¶ã€åº”ç”¨ã€ç³»ç»Ÿè¿›è¡Œäº¤äº’**. ç«¯åˆ°ç«¯æ˜¯æŒ‡ä»ä¸€ä¸ªç«¯ç‚¹åˆ°å¦ä¸€ä¸ªç«¯ç‚¹çš„æ„æ€ï¼Œæ‰€ä»¥ç«¯åˆ°ç«¯æµ‹è¯•é‡ç‚¹ç”¨äºæµ‹è¯•æ¨¡å—å’Œæ¨¡å—ä¹‹é—´çš„åè°ƒæ€§ã€‚

å½“åº”ç”¨æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿæˆ–è€…éœ€è¦å’Œå…¶ä»–å¤–éƒ¨ç³»ç»ŸååŒæ—¶ï¼Œç«¯åˆ°ç«¯æµ‹è¯•æ‰®æ¼”ç€éå¸¸é‡è¦çš„è§’è‰², å®ƒå¯ä»¥å…¨é¢æ£€æŸ¥ä»¥ç¡®ä¿è½¯ä»¶åœ¨ä¸åŒå¹³å°å’Œç¯å¢ƒäº§å“èƒ½å‡†ç¡®åœ°äº¤äº’ã€‚ç«¯åˆ°ç«¯æµ‹è¯•æœ‰ä»¥ä¸‹ç›®çš„:

- ç¡®ä¿åº”ç”¨å¯ä»¥å’Œå¤–éƒ¨ç³»ç»Ÿä¹‹é—´è‰¯å¥½çš„åè°ƒã€‚å¯¹äºå‰ç«¯æ¥è¯´ï¼Œæ˜¯ç¡®ä¿é¡µé¢å’Œåç«¯ä¹‹é—´è‰¯å¥½åè°ƒ
- æ£€æŸ¥ä»æºç³»ç»Ÿåˆ°ç›®æ ‡ç³»ç»Ÿçš„æ‰€æœ‰ç³»ç»Ÿæµ
- ä»æœ€ç»ˆç”¨æˆ·è§’åº¦éªŒè¯éœ€æ±‚
- è¯†åˆ«å¼‚æ„ç¯å¢ƒä¸­çš„é—®é¢˜

å‰ç«¯ä¹Ÿæœ‰å¾ˆå¤šè‡ªåŠ¨åŒ–çš„ç«¯åˆ°ç«¯æµ‹è¯•å·¥å…·ï¼Œæ¯”å¦‚nightwatchï¼Œé€šè¿‡å®ƒä»¬å¯ä»¥æ¨¡æ‹Ÿç”¨æˆ·å¯¹é¡µé¢è¿›è¡Œæ“ä½œï¼Œä»è€Œæ£€éªŒæ•´ä¸ªåº”ç”¨æµç¨‹æ˜¯å¦æ­£å¸¸å’Œç¬¦åˆéœ€æ±‚:

åŠŸèƒ½æµ‹è¯•

åŠŸèƒ½æµ‹è¯•æ˜¯ä¸€ä¸ªå¤§ç±», åˆç§°ä¸ºè¡Œä¸ºæµ‹è¯•ï¼Œ **åŠŸèƒ½æµ‹è¯•ä¼šå¿½ç•¥å†…éƒ¨å®ç°è€Œå…³æ³¨ç»„ä»¶çš„è¾“å‡ºï¼Œç›®çš„æ˜¯éªŒè¯æ˜¯å¦ç¬¦åˆéœ€æ±‚ï¼Œè¿™æ˜¯ä¸€ç§é¢å‘åŠŸèƒ½éœ€æ±‚çš„é»‘ç›’æµ‹è¯•ç±»å‹**ã€‚å…³äºåŠŸèƒ½æµ‹è¯•çš„ç»†èŠ‚è¯·çœ‹[è¿™é‡Œ](https://www.softwaretestinghelp.com/guide-to-functional-testing/)

åŠŸèƒ½æµ‹è¯•æ˜¯ç›¸å¯¹éåŠŸèƒ½æµ‹è¯•è€Œè¨€çš„, åŠŸèƒ½æµ‹è¯•éœ€è¦å…³å¿ƒåŠŸèƒ½æˆ–è€…ä¸šåŠ¡ï¼Œéœ€è¦ä¸šåŠ¡è€¦åˆç¨‹åº¦é«˜ï¼›è€ŒéåŠŸèƒ½æµ‹è¯•åˆ™æ˜¯é€šç”¨çš„ï¼Œæ¯”å¦‚å‹åŠ›æµ‹è¯•ã€è´Ÿè½½æµ‹è¯•ï¼Œè¿™äº›æµ‹è¯•éƒ½æœ‰é€šç”¨çš„å·¥å…·æ¥æ”¯æŒï¼Œä¸éœ€è¦æˆ–å¾ˆå°‘å®šåˆ¶åŒ–æ“ä½œ.

GUIæµ‹è¯•

GUIæµ‹è¯•çš„ç›®çš„æ˜¯æ ¹æ®ä¸šåŠ¡éœ€æ±‚éªŒè¯GUIã€‚åœ¨è¯¦ç»†è®¾è®¡æ–‡æ¡£å’ŒGUIæ¨¡å‹(UIè®¾è®¡æ–‡æ¡£)ä¸­ä¸€èˆ¬ä¼šæåˆ°åº”ç”¨æœŸæœ›çš„GUI.

å¸¸è§çš„GUIæµ‹è¯•åŒ…æ‹¬æµ‹è¯•å±å¹•ä¸Šæ˜¾ç¤ºçš„æŒ‰é’®å’Œè¾“å…¥å­—æ®µçš„å¤§å°ã€è¡¨æ ¼ä¸­æ‰€æœ‰æ–‡æœ¬ã€è¡¨æ ¼æˆ–å†…å®¹çš„å¯¹é½è§„åˆ™ç­‰ç­‰. å¦‚æœå›¢é˜Ÿæœ‰UIè®¾è®¡è§„èŒƒï¼Œè¿˜ä¼šéªŒè¯æ˜¯å¦ç¬¦åˆè®¾è®¡è§„èŒƒ

å¤§çŒ©çŒ©æµ‹è¯•

å¤§çŒ©çŒ©æµ‹è¯•æ˜¯ç”±æµ‹è¯•äººå‘˜æ‰§è¡Œçš„æµ‹è¯•ç±»å‹ï¼Œæœ‰æ—¶ä¹Ÿç”±å¼€å‘äººå‘˜æ‰§è¡Œã€‚åœ¨å¤§çŒ©çŒ©æµ‹è¯•ä¸­ï¼Œå¯¹æ¨¡å—ä¸­çš„ä¸€ä¸ªæ¨¡å—æˆ–åŠŸèƒ½è¿›è¡Œäº†å½»åº•å’Œä¸¥æ ¼çš„æµ‹è¯•ã€‚åŸæ–‡æ²¡æœ‰è¯´å‡ºå¤§çŒ©çŒ©æµ‹è¯•çš„ç²¾é«“ï¼Œå¤§çŒ©çŒ©æµ‹è¯•ä¼šå¯¹ä¸€ä¸ªåŠŸèƒ½æˆ–æ¨¡å—è¿›è¡Œé‡å¤â€˜ä¸Šç™¾æ¬¡â€™çš„æµ‹è¯•, äººç±»æ ¹æœ¬å—ä¸äº†è¿™æ ·å­çš„æµ‹è¯•æ–¹å¼ï¼Œæ‰€ä»¥å¤§çŒ©çŒ©æµ‹è¯•çš„å¦ä¸€ä¸ªåˆ«åæ˜¯â€˜ä»¤äººæ²®ä¸§çš„æµ‹è¯•(Frustrating Testing)â€™

è¿™ç§æµ‹è¯•çš„ç›®çš„æ˜¯æ£€æŸ¥åº”ç”¨ç¨‹åºçš„ç¨³å¥æ€§(robustness)

é›†æˆæµ‹è¯•

é›†æˆæµ‹è¯•æ˜¯æŒ‡å°†æ‰€æœ‰æ¨¡å—é›†æˆä¹‹åï¼ŒéªŒè¯åˆå¹¶åçš„åŠŸèƒ½. æ¨¡å—é€šå¸¸æ˜¯ä»£ç æ¨¡å—ã€å•ä¸ªåº”ç”¨ã€ç½‘ç»œä¸Šçš„å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨åº”ç”¨ç­‰ç­‰ã€‚

é›†æˆæµ‹è¯•ä¸€èˆ¬åœ¨å•å…ƒæµ‹è¯•ä¹‹åï¼Œæ‰€ä»¥å•å…ƒæµ‹è¯•æ˜¯é›†æˆæµ‹è¯•çš„åŸºç¡€ï¼Œæ²¡æœ‰è¿›è¡Œå•å…ƒæµ‹è¯•çš„é›†æˆæµ‹è¯•æ˜¯ä¸é è°±çš„ã€‚æ‰€ä»¥æœ€ç®€å•çš„å½¢å¼æ˜¯ï¼šâ€™æŠŠä¸¤ä¸ªå·²ç»æµ‹è¯•è¿‡çš„å•å…ƒç»„åˆæˆä¸€ä¸ªç»„ä»¶ï¼Œæµ‹è¯•å®ƒä»¬ä¹‹é—´çš„æ¥å£â€™ã€‚ä¹Ÿå°±æ˜¯è¯´**é›†æˆæµ‹è¯•åœ¨å•å…ƒæµ‹è¯•çš„åŸºç¡€ä¹‹ä¸Šï¼Œå°†å•å…ƒæµ‹è¯•ä¸­ç‹¬ç«‹çš„å•å…ƒåˆå¹¶èµ·æ¥ï¼ŒéªŒè¯å®ƒä»¬çš„åè°ƒæ€§, åˆå¹¶åçš„ç»„ä»¶åˆæ˜¯ä¸€ä¸ªæ–°çš„â€˜å•å…ƒâ€™ï¼Œè¿™æ ·é€æ­¥åˆå¹¶æµ‹è¯•ï¼Œæœ€ç»ˆå½¢æˆå®Œæ•´çš„åº”ç”¨ç¨‹åº**ã€‚

è¿™ç§ç±»å‹çš„æµ‹è¯•å¸¸ç”¨äºB/Sè½¯ä»¶å’Œåˆ†å¸ƒå¼ç³»ç»Ÿã€‚

ä¹è§‚è·¯çº¿æµ‹è¯•

**ä¹è§‚è·¯çº¿æµ‹è¯•**çš„ç›®æ ‡æ˜¯åœ¨æ­£å¸¸æµç¨‹ä¸ŠæˆåŠŸæµ‹è¯•åº”ç”¨ã€‚å®ƒä¸ä¼šè€ƒè™‘å„ç§è´Ÿé¢æˆ–å¼‚å¸¸æƒ…å†µã€‚é‡ç‚¹åªå…³æ³¨äºéªŒè¯åº”ç”¨åœ¨æœ‰æ•ˆå’Œåˆæ³•è¾“å…¥çš„æ¡ä»¶ä¸‹ç”ŸæˆæœŸæœ›çš„è¾“å‡º. æ¯”å¦‚é“¶è¡Œä»˜æ¬¾ï¼Œåªè€ƒè™‘è´¦æˆ·æœ‰é’±çš„æ­£å¸¸çŠ¶æ€ğŸ˜‚

å¢é‡é›†æˆæµ‹è¯•

å¢é‡é›†æˆæµ‹è¯•æ˜¯ä¸€ç§è‡ªä¸‹è€Œä¸Šçš„æµ‹è¯•æ–¹æ³•ï¼Œå³åœ¨æ·»åŠ æ–°åŠŸèƒ½æ—¶ç«‹å³é›†æˆåº”ç”¨ç¨‹åºè¿›è¡Œè¿ç»­æµ‹è¯•ã€‚åº”ç”¨ç¨‹åºåŠŸèƒ½å’Œæ¨¡å—åº”è¯¥è¶³å¤Ÿç‹¬ç«‹ï¼Œä»¥ä¾¿å•ç‹¬æµ‹è¯•ã€‚è¿™é€šå¸¸ç”±ç¨‹åºå‘˜æˆ–æµ‹è¯•äººå‘˜å®Œæˆã€‚

å®‰è£…å¸è½½æµ‹è¯•

å®‰è£…å’Œå¸è½½æµ‹è¯•æ˜¯åœ¨ä¸åŒç¡¬ä»¶æˆ–è½¯ä»¶ç¯å¢ƒä¸‹çš„ä¸åŒæ“ä½œç³»ç»Ÿä¸Šçš„è¿›è¡Œå®Œæ•´/éƒ¨åˆ†çš„å®‰è£…ã€å‡çº§ã€å¸è½½ã€å›æ»šç­‰æµ‹è¯•. å¸¸ç”¨äºæ¡Œé¢ç«¯åº”ç”¨

æ¢ç´¢æµ‹è¯•

æ¢ç´¢æ€§æµ‹è¯•æœ‰ç‚¹ç±»ä¼¼äºAd-Hocæµ‹è¯•. æ¢ç´¢æ€§æµ‹è¯•æ˜¯ç”±æµ‹è¯•å›¢é˜Ÿè¿›è¡Œçš„éæ­£å¼æµ‹è¯•ã€‚æ­¤æµ‹è¯•çš„ç›®çš„æ˜¯æ¢ç´¢åº”ç”¨å¹¶æŸ¥æ‰¾åº”ç”¨ä¸­å­˜åœ¨çš„ç¼ºé™·ã€‚åƒæ¢é™©ä¸€æ ·ï¼Œåœ¨æµ‹è¯•æœŸé—´æ˜¯æœ‰ä¸€å®šå‡ ç‡å‘ç°çš„é‡å¤§ã€ç”šè‡³å¯èƒ½å¯¼è‡´ç³»ç»Ÿæ•…éšœçš„ç¼ºé™·.

åœ¨æ¢ç´¢æ€§æµ‹è¯•æœŸé—´ï¼Œå»ºè®®è·Ÿè¸ªè®°å½•å¥½æµ‹è¯•çš„æµç¨‹ã€ä»¥åŠå¼€å§‹è¯¥æµç¨‹ä¹‹å‰çš„æ´»åŠ¨è®°å½•, æ–¹ä¾¿å¤ç°bug.

æ¢ç´¢æµ‹è¯•ä¸éœ€è¦ä»»ä½•æ–‡æ¡£å’Œæµ‹è¯•ç”¨ä¾‹.

Alphaæµ‹è¯•

**[Alphaæµ‹è¯•](https://www.softwaretestinghelp.com/what-is-alpha-testing-beta-testing/)è¿™æ˜¯è½¯ä»¶å·¥ç¨‹ä¸­å¾ˆå¸¸è§çš„æµ‹è¯•ç±»å‹ã€‚å®ƒçš„ç›®æ ‡å°±æ˜¯å°½å¯èƒ½åœ°åœ¨å‘å¸ƒåˆ°å¸‚åœºæˆ–äº¤ä»˜ç»™ç”¨æˆ·ä¹‹å‰æ‰¾å‡ºæ‰€æœ‰çš„é—®é¢˜å’Œç¼ºé™·**ã€‚

Alphaæµ‹è¯•ä¸€èˆ¬åœ¨å¼€å‘çš„æœ«æ®µä¸”åœ¨Betaæµ‹è¯•ä¹‹å‰è¿›è¡Œã€‚åœ¨è¿™ä¸ªæµ‹è¯•è¿‡ç¨‹ä¸­å¯èƒ½ä¼šé©±åŠ¨å¼€å‘è€…è¿›è¡Œä¸€äº›å°(minor)çš„è®¾è®¡å˜åŠ¨. Alphaæµ‹è¯•ä¸€èˆ¬åœ¨å¼€å‘è€…ç½‘ç«™è¿›è¡Œï¼Œå³åªå¯¹å¼€å‘è€…æˆ–å†…éƒ¨ç”¨æˆ·å¼€æ”¾ï¼Œä¸€èˆ¬å¯ä»¥ä¸ºæ­¤ç±»æµ‹è¯•åˆ›å»ºå†…éƒ¨è™šæ‹Ÿçš„ç”¨æˆ·ç¯å¢ƒã€‚

Betaæµ‹è¯•

ä¸Šæ–‡Alphaæµ‹è¯•å·²ç»æåŠBetaæµ‹è¯•, **Betaæµ‹è¯•æ˜¯ä¸€ç§æ­£å¼çš„è½¯ä»¶æµ‹è¯•ç±»å‹ï¼Œåœ¨å°†äº§å“å‘å¸ƒåˆ°å¸‚åœºæˆ–è€…å®é™…æœ€ç»ˆç”¨æˆ·ä¹‹å‰ï¼Œç”±å®¢æˆ·åœ¨çœŸå®çš„åº”ç”¨ç¯å¢ƒä¸­æ‰§è¡Œ**ã€‚

æ‰§è¡ŒBetaæµ‹è¯•ç›®çš„æ˜¯ç¡®ä¿è½¯ä»¶æˆ–äº§å“ä¸­æ²¡æœ‰é‡å¤§æ•…éšœï¼Œå¹¶ä¸”æ»¡è¶³æœ€ç»ˆç”¨æˆ·çš„ä¸šåŠ¡éœ€æ±‚ã€‚å½“å®¢æˆ·æ¥å—è½¯ä»¶æ—¶ï¼ŒBetaæµ‹è¯•æ‰ç®—é€šè¿‡ã€‚

é€šå¸¸ï¼Œæ­¤ç±»æµ‹è¯•ç”±æœ€ç»ˆç”¨æˆ·æˆ–å…¶ä»–äººå®Œæˆã€‚è¿™æ˜¯åœ¨å°†åº”ç”¨å‘å¸ƒä½œä¸ºå•†ä¸šç”¨é€”ä¹‹å‰å®Œæˆçš„æœ€ç»ˆæµ‹è¯•ã€‚é€šå¸¸ï¼Œå‘å¸ƒçš„è½¯ä»¶æˆ–äº§å“çš„Betaç‰ˆæœ¬ä»…é™äºç‰¹å®šåŒºåŸŸä¸­çš„ç‰¹å®šæ•°é‡çš„ç”¨æˆ·ã€‚
æ‰€ä»¥æœ€ç»ˆç”¨æˆ·å®é™…ä½¿ç”¨è½¯ä»¶åä¼šå°†ä¸€äº›é—®é¢˜åé¦ˆç»™å…¬å¸ã€‚å…¬å¸å¯ä»¥åœ¨å…¨é¢å‘å¸ƒä¹‹å‰é‡‡å–å¿…è¦çš„æªæ–½ã€‚

Betaæµ‹è¯•åœ¨æ­£å¼ç‰ˆæœ¬ä¹‹å‰ä¹Ÿå¯èƒ½ä¼šè¿­ä»£è¿›è¡Œå¤šæ¬¡.

A/Bæµ‹è¯•

é¡¾åæ€ä¹‰ï¼Œ [A/Bæµ‹è¯•](https://maxket.com/ab-test-best-practice/)å°±æ˜¯å‡†å¤‡ä¸¤ä¸ª(A/B)æˆ–ä¸¤ä¸ªä»¥ä¸Šçš„ç‰ˆæœ¬ï¼Œè®©ä¸åŒçš„ç”¨æˆ·æ¥éšæœºè®¿é—®è¿™äº›ç‰ˆæœ¬ï¼Œæ”¶é›†å„ç¾¤ç»„çš„ç”¨æˆ·ä½“éªŒæ•°æ®å’Œä¸šåŠ¡æ•°æ®ï¼Œæœ€ååˆ†æã€è¯„ä¼°å‡ºæœ€å¥½ç‰ˆæœ¬ï¼Œæ­£å¼é‡‡ç”¨ã€‚å¦‚ä¸Šå›¾ï¼Œè°·æ­Œä½¿ç”¨A/Bæµ‹è¯•æ¥å†³å®šå¯¼èˆªåº”è¯¥æ˜¯çº¢è‰²è¿˜æ˜¯è“è‰²ã€‚

éªŒæ”¶æµ‹è¯•(Acceptance Testing)

**[éªŒæ”¶æµ‹è¯•](https://www.softwaretestinghelp.com/what-is-acceptance-testing/)é€šå¸¸æ˜¯éƒ¨ç½²è½¯ä»¶ä¹‹å‰çš„æœ€åä¸€ä¸ªæµ‹è¯•æ“ä½œ, ä¹Ÿç§°ä¸ºäº¤ä»˜æµ‹è¯•, ç”±æœ€ç»ˆå®¢æˆ·æ‰§è¡Œï¼Œä»–ä»¬ä¼šéªŒè¯ç«¯åˆ°ç«¯(end to end)çš„ç³»ç»Ÿæµç¨‹æ˜¯å¦ç¬¦åˆä¸šåŠ¡éœ€æ±‚ï¼Œä»¥åŠåŠŸèƒ½æ˜¯å¦æ˜¯æ»¡è¶³æœ€ç»ˆç”¨æˆ·çš„éœ€æ±‚**ã€‚åªæœ‰å½“æ‰€æœ‰çš„ç‰¹æ€§å’ŒåŠŸèƒ½æŒ‰ç…§æœŸæœ›çš„è¿è¡Œï¼Œå®¢æˆ·æ‰ä¼šæ¥å—è½¯ä»¶

è¿™æ˜¯æµ‹è¯•çš„æœ€åé˜¶æ®µï¼Œåœ¨éªŒæ”¶æµ‹è¯•ä¹‹åï¼Œè½¯ä»¶å°†æŠ•å…¥ç”Ÿäº§ç¯å¢ƒ. æ‰€ä»¥å®ƒä¹Ÿå«ç”¨æˆ·éªŒæ”¶æµ‹è¯•(UAT)

ä¸´æ—¶æµ‹è¯•

Ad-hocä¸­æ–‡åº”è¯¥ç†è§£ä¸ºä¸´æ—¶çš„æ„æ€ã€‚é¡¾åæ€ä¹‰ï¼Œè¿™ç§æµ‹è¯•æ˜¯åœ¨ä¸´æ—¶åŸºç¡€ä¸Šè¿›è¡Œçš„, æœ‰æ—¶å€™ä¹Ÿç§°ä¸ºéšæœºæµ‹è¯•ã€‚å³æ²¡æœ‰å‚è€ƒæµ‹è¯•ç”¨ä¾‹ã€æ²¡æœ‰é’ˆå¯¹è¯¥æµ‹è¯•çš„ä»»ä½•è®¡åˆ’å’Œæ–‡æ¡£ã€‚Ad-hocæµ‹è¯•çš„ç›®çš„å°±æ˜¯**é€šè¿‡æ‰§è¡Œéšæ„çš„æµç¨‹æˆ–ä»»æ„çš„åŠŸèƒ½æ¥æ‰¾å‡ºåº”ç”¨çš„ç¼ºé™·å’Œé—®é¢˜**

Ad-hocæµ‹è¯•ä¸€ç§éæ­£å¼çš„æ–¹æ³•ï¼Œå¯ä»¥ç”±é¡¹ç›®ä¸­çš„ä»»ä½•äººæ‰§è¡Œã€‚å°½ç®¡æ²¡æœ‰æµ‹è¯•ç”¨ä¾‹å¾ˆéš¾è¯†åˆ«ç¼ºé™·ï¼Œä½†æ˜¯æœ‰äº›æ—¶å€™åœ¨Ad-hocæµ‹è¯•æœŸé—´å‘ç°çš„ç¼ºé™·å¯èƒ½æ— æ³•ä½¿ç”¨ç°æœ‰çš„æµ‹è¯•ç”¨ä¾‹æ¥è¯†åˆ«, **ä¹Ÿå°±æ˜¯è¯´å®ƒä¸€èˆ¬ç”¨æ¥å‘ç°â€˜æ„å¤–â€™çš„ç¼ºé™·**.

å¯è®¿é—®æ€§æµ‹è¯•

**å¯è®¿é—®æ€§æµ‹è¯•çš„ç›®çš„æ˜¯ç¡®å®šè½¯ä»¶æˆ–åº”ç”¨ç¨‹åºæ˜¯å¦å¯ä¾›æ®‹ç–¾äººä½¿ç”¨**ã€‚æ®‹ç–¾æ˜¯æŒ‡è‹äººï¼Œè‰²ç›²ï¼Œæ™ºéšœäººå£«ï¼Œå¤±æ˜è€…ï¼Œè€å¹´äººå’Œå…¶ä»–æ®‹ç–¾äººç¾¤ä½“ã€‚è¿™é‡Œä¼šæ‰§è¡Œå„ç§æ£€æŸ¥ï¼Œä¾‹å¦‚é’ˆå¯¹è§†è§‰æ®‹ç–¾çš„å­—ä½“å¤§å°æµ‹è¯•ï¼Œé’ˆå¯¹è‰²ç›²çš„é¢œè‰²å’Œå¯¹æ¯”åº¦æµ‹è¯•ç­‰ç­‰ã€‚

ä¸åŒå¹³å°ã€ä¸åŒåº”ç”¨ç±»å‹å¯¹å¯è®¿é—®æ€§æ”¯æŒæƒ…å†µä¸å¤ªä¸€æ ·ï¼Œæ¯”å¦‚iOSç›¸æ¯”å…¶ä»–æ“ä½œç³»ç»Ÿåˆ™æ›´é‡è§†å¯è®¿é—®, è€Œå›½å¤–æ¯”å›½å†…æ›´é‡è§†å¯è®¿é—®æ€§ã€‚

åç«¯æµ‹è¯•

å‰ç«¯åº”ç”¨è¾“å…¥çš„æ•°æ®ï¼Œä¸€èˆ¬éƒ½ä¼šå­˜å‚¨åœ¨æ•°æ®åº“ï¼Œæ‰€ä»¥é’ˆå¯¹æ•°æ®åº“çš„è¿™ç±»æµ‹è¯•ç§°ä¸º**æ•°æ®åº“æµ‹è¯•æˆ–è€…åç«¯æµ‹è¯•**. å¸‚é¢æœ‰ä¸åŒçš„æ•°æ®åº“ï¼Œå¦‚SQL Serverï¼ŒMySQLå’ŒOracleç­‰ã€‚æ•°æ®åº“æµ‹è¯•ä¼šæ¶‰åŠè¡¨ç»“æ„ï¼Œæ¨¡å¼ï¼Œå­˜å‚¨è¿‡ç¨‹ï¼Œæ•°æ®ç»“æ„ç­‰ã€‚

åç«¯æµ‹è¯•ä¸€èˆ¬ä¸ä¼šæ¶‰åŠGUIï¼Œæµ‹è¯•äººå‘˜é€šè¿‡æŸäº›æ‰‹æ®µç›´æ¥è¿æ¥åˆ°æ•°æ®åº“ï¼Œä»è€Œå¯ä»¥å®¹æ˜“åœ°è¿è¡Œä¸€äº›æ•°æ®åº“è¯·æ±‚æ¥éªŒè¯æ•°æ®ã€‚**é€šè¿‡åç«¯æµ‹è¯•å¯ä»¥å‘ç°ä¸€äº›æ•°æ®åº“é—®é¢˜ï¼Œæ¯”å¦‚æ•°æ®ä¸¢å¤±ã€æ­»é”ã€æ•°æ®æŸåã€‚è¿™äº›é—®é¢˜åœ¨ç³»ç»ŸæŠ•å…¥ç”Ÿäº§ç¯å¢ƒä¹‹å‰è¿›è¡Œä¿®å¤è‡³å…³é‡è¦**

æµè§ˆå™¨å…¼å®¹æµ‹è¯•

è¿™æ˜¯å…¼å®¹æ€§æµ‹è¯•çš„å­ç±»å‹ï¼Œç”±æµ‹è¯•å›¢é˜Ÿæ‰§è¡Œ. **[æµè§ˆå™¨å…¼å®¹æµ‹è¯•](http://frontend.turing.io/lessons/module-2/cross-browser-compat.html)ä¸»è¦é’ˆå¯¹Webåº”ç”¨ï¼Œç”¨äºç¡®ä¿è½¯ä»¶å¯ä»¥åœ¨ä¸åŒæµè§ˆå™¨æˆ–æ“ä½œç³»ç»Ÿä¸­è¿è¡Œ; æˆ–è€…éªŒè¯Webåº”ç”¨ç¨‹åºæ˜¯å¦æ”¯æŒåœ¨æµè§ˆå™¨çš„æ‰€æœ‰ç‰ˆæœ¬ä¸Šè¿è¡Œ, ä»¥ç¡®å®šåº”ç”¨æœ€ç»ˆå…¼å®¹çš„èŒƒå›´**.

æµè§ˆå™¨å…¼å®¹æµ‹è¯•æ˜¯å‰ç«¯å¼€å‘è€…ç»•ä¸å¼€çš„å‘ã€‚

æˆ‘ä»¬æœ‰å¾ˆå¤š**ç­–ç•¥**æ¥åº”å¯¹æµè§ˆå™¨å…¼å®¹æ€§ï¼Œæ¯”å¦‚æ¸è¿›å¢å¼ºæˆ–è€…ä¼˜é›…é™çº§, è¿˜æœ‰åˆ¶å®šæµè§ˆå™¨å…¼å®¹è§„èŒƒ;

ä¸ºäº†**æŠšå¹³æµè§ˆå™¨ä¹‹é—´çš„å·®å¼‚**ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨å„ç§ç‰¹æ€§æ£€æµ‹å·¥å…·(Modernizr), è¿˜æœ‰å„ç§polyfill(CSS Normaliz, polyfill/shim, css-autoprefixer);

å½“ç„¶ä¸ºäº†**æµ‹è¯•è·¨æµè§ˆå™¨å…¼å®¹æ€§**ï¼Œè¿˜è¦ä¸€äº›è¾…åŠ©å·¥å…·ï¼Œä¾‹å¦‚[BrowserStack](https://www.browserstack.com/), å¯¹äºæˆ‘ä»¬è¿™äº›å°å›¢é˜Ÿï¼Œåªèƒ½ä¸‹ä¸€å †Portable(*Portableæµè§ˆå™¨è¿è¡Œæ—¶ç›¸äº’éš”ç¦»çš„, æ‰€ä»¥ä¸ä¼šå­˜åœ¨é…ç½®æ–‡ä»¶ç­‰å†²çªé—®é¢˜*) æµè§ˆå™¨ï¼Œæ‰‹å·¥æµ‹è¯•äº†ã€‚

å‘åå…¼å®¹æµ‹è¯•

**å‘åå…¼å®¹æµ‹è¯•, ç”¨äºéªŒè¯æ–°å¼€å‘æˆ–æ›´æ–°çš„è½¯ä»¶æ˜¯å¦èƒ½åœ¨æ—§ç‰ˆæœ¬çš„ç¯å¢ƒä¸­è¿è¡Œ**ã€‚

æ¯”å¦‚å‘åå…¼å®¹æµ‹è¯•ä¼šæ£€æŸ¥æ–°ç‰ˆè½¯ä»¶æ˜¯å¦å¯ä»¥æ­£ç¡®åœ°å¤„ç†æ—§ç‰ˆæœ¬è½¯ä»¶åˆ›å»ºçš„æ–‡ä»¶æ ¼å¼ã€‚ä¾‹å¦‚æ–°ç‰ˆçš„Office 2016æ˜¯å¦å¯ä»¥æ‰“å¼€2012åˆ›å»ºçš„æ–‡ä»¶ã€‚

åŒç†ä¹Ÿå¯ä»¥æ£€æŸ¥æ–°ç‰ˆæœ¬æ˜¯å¦å¯ä»¥å…¼å®¹æ—§ç‰ˆæœ¬è½¯ä»¶åˆ›å»ºçš„æ•°æ®è¡¨ã€æ•°æ®æ–‡ä»¶ã€æ•°æ®ç»“æ„ã€é…ç½®æ–‡ä»¶ã€‚

ä»»ä½•è½¯ä»¶æ›´æ–°åº”è¯¥åœ¨å…ˆå‰ç‰ˆæœ¬çš„åŸºç¡€ä¹‹ä¸Šè‰¯å¥½åœ°è¿è¡Œ

é»‘ç›’æµ‹è¯•

é»‘ç›’æµ‹è¯•ä¸è€ƒè™‘è½¯ä»¶çš„å†…éƒ¨ç³»ç»Ÿè®¾è®¡ï¼Œå®ƒåŸºäºéœ€æ±‚å’ŒåŠŸèƒ½è¿›è¡Œæµ‹è¯•, åªå…³å¿ƒç³»ç»Ÿçš„è¾“å…¥/è¾“å‡ºä»¥åŠåŠŸèƒ½æµç¨‹ã€‚

æ¢å¥è¯è¯´**é»‘ç›’æµ‹è¯•ä»ç”¨æˆ·çš„è§’åº¦å‡ºå‘é’ˆå¯¹è½¯ä»¶ç•Œé¢ã€åŠŸèƒ½åŠå¤–éƒ¨ç»“æ„è¿›è¡Œæµ‹è¯•ï¼Œè€Œä¸è€ƒè™‘ç¨‹åºå†…éƒ¨é€»è¾‘ç»“æ„**.

é»‘ç›’æµ‹è¯•ä¸‹é¢æœ‰å¾ˆå¤šå­ç±»ï¼Œä¾‹å¦‚é›†æˆæµ‹è¯•ã€ç³»ç»Ÿæµ‹è¯•ã€å¤§éƒ¨åˆ†éåŠŸèƒ½æ€§æµ‹è¯•

è¾¹ç•Œå€¼æµ‹è¯•

**è¾¹ç•Œå€¼æµ‹è¯•, æµ‹è¯•åº”ç”¨å¤„äºè¾¹ç•Œæ¡ä»¶(boundary level)çš„è¡Œä¸º**ã€‚å¾ˆå¤šè¾¹ç•Œæ¡ä»¶å¼€å‘è€…æ˜¯å¾ˆéš¾è€ƒè™‘å‘¨åˆ°çš„ï¼Œæ‰€ä»¥æ‰æœ‰ä¸€ä¸ªä¸“é—¨çš„æµ‹è¯•ç±»å‹æ¥éªŒè¯è¿™ç§æƒ…å†µ

è¾¹ç•Œå€¼æµ‹è¯•æ£€æŸ¥åº”ç”¨å¤„äºè¾¹ç•Œå€¼æ—¶æ˜¯å¦å­˜åœ¨ç¼ºé™·ã€‚è¾¹ç•Œå€¼æµ‹è¯•é€šå¸¸ç”¨äºæµ‹è¯•ä¸åŒèŒƒå›´çš„æ•°å­—, æ¯ä¸ªèŒƒå›´éƒ½æœ‰ä¸€ä¸ªä¸Šä¸‹è¾¹ç•Œï¼Œè¾¹ç•Œæµ‹è¯•åˆ™æ˜¯é’ˆå¯¹è¿™äº›è¾¹ç•Œå€¼è¿›è¡Œæµ‹è¯•ã€‚

æ¯”å¦‚æ•°å­—èŒƒå›´ä¸º1-500, é‚£ä¹ˆè¾¹ç•Œå€¼æµ‹è¯•ä¼šåœ¨è¿™äº›å€¼ä¸Šè¿›è¡ŒéªŒè¯: 0ã€1ã€2ã€499ã€500ã€501

åˆ†æ”¯æµ‹è¯•

è¿™æ˜¯ç™½ç›’æµ‹è¯•çš„å­ç±»å‹ï¼Œåœ¨å•å…ƒæµ‹è¯•ä¸­å®æ–½. é¡¾åæ€ä¹‰ï¼Œ**åˆ†æ”¯æµ‹è¯•è¡¨ç¤ºæµ‹è¯•è¦è¦†ç›–ç¨‹åºä»£ç çš„å„ç§æ¡ä»¶åˆ†æ”¯, é¿å…é—æ¼ç¼ºé™·**ã€‚åˆ†æ”¯è¦†ç›–æ˜¯å•å…ƒæµ‹è¯•è¦†ç›–ç‡çš„ä¸€ä¸ªæŒ‡æ ‡ä¹‹ä¸€

æ¯”è¾ƒæµ‹è¯•

**æ¯”è¾ƒæµ‹è¯•ï¼Œå°†äº§å“çš„ä¼˜ç‚¹å’Œå¼±ç‚¹ä¸æ—§ç‰ˆæœ¬æˆ–è€…åŒç±»(ç«å“)äº§å“è¿›è¡Œæ¯”è¾ƒ.**

æ¯”å¦‚ç±»ä¼¼ç‹è‡ªå¦‚è¿™ç§æ•°ç æµ‹è¯„æ ç›®ï¼Œè¯„æµ‹ä¸€ä¸ªæ‰‹æœºæˆ–è€…å…¶ä»–æ•°ç äº§å“æ—¶ï¼Œä¸€èˆ¬ä¼šæ¨ªå‘å’Œå‹å•†äº§å“è¿›è¡Œæ¯”è¾ƒï¼Œæœ‰æ—¶å€™ä¹Ÿä¼šçºµå‘å’Œä¸Šä¸€ä»£äº§å“æ¯”è¾ƒ.

è¿˜æœ‰ä¸€ç§æ¯”è¾ƒå…¸å‹çš„ä¾‹å­å°±æ˜¯å’Œè¡Œä¸šçš„é¢†å¯¼è€…æ¯”è¾ƒï¼Œæ¯”å¦‚æˆ‘ä»¬åšIMçš„ï¼Œä¼šç»å¸¸å’Œå¾®ä¿¡æ¯”è¾ƒ: â€˜ä½ è¿™ä¸ªåº”ç”¨çš„å¯åŠ¨é€Ÿåº¦æ€ä¹ˆæ¯”å¾®ä¿¡æ…¢è¿™ä¹ˆå¤š?â€™



## å‰ç«¯å•å…ƒæµ‹è¯•æ¡†æ¶

å‰ç«¯æµ‹è¯•æ¡†æ¶æœ‰

- Mocha
- Jasmine
- Jest
- Tape
- Karma

### å†™å¥½æµ‹è¯•

#### æµ‹è¯•çš„ç¬¬ä¸€æ³•åˆ™ï¼šç˜¦æµ‹è¯•

æµ‹è¯•ä»£ç ä¸ç”Ÿäº§ä»£ç ä¸åŒï¼Œè¦ä½¿å®ƒå˜å¾—æå…¶ç®€å•ã€çŸ­å°ã€æ²¡æœ‰æŠ½è±¡ã€æ‰å¹³åŒ–ã€ä½¿äººæ„‰æ‚¦ã€ç˜¦ã€‚ä¸€æ®µæµ‹è¯•ä»£ç éœ€è¦åšåˆ°è®©äººä¸€çœ¼å°±èƒ½çœ‹å‡ºå…¶ç›®çš„ã€‚

æˆ‘ä»¬çš„æ€ç»´ç©ºé—´è¢«ä¸»ä½“ç”Ÿäº§ä»£ç å……æ»¡ï¼Œå› æ­¤æ— æ³•è…¾å‡ºé¢å¤–çš„â€œå¤§è„‘ç©ºé—´â€å­˜æ”¾å¤æ‚çš„ä¸œè¥¿ã€‚å¦‚æœå‘å¯æ€œçš„å¤§è„‘ä¸­å¡è¿›å…¶ä»–å¤æ‚ä»£ç ï¼Œå°†ä¼šä½¿å¾—æ•´ä¸ªéƒ¨åˆ†å˜æ…¢ï¼Œè€Œè¿™ä¸ªéƒ¨åˆ†æ­£æ˜¯ç”¨æ¥è§£å†³æˆ‘ä»¬éœ€è¦æµ‹è¯•çš„é—®é¢˜çš„ã€‚è¿™ä¹Ÿæ˜¯å¤§éƒ¨åˆ†å›¢é˜Ÿæ”¾å¼ƒæµ‹è¯•çš„åŸå› ã€‚

å¦ä¸€æ–¹é¢ï¼Œæµ‹è¯•æ˜¯ä¸€ä¸ªå‹å¥½çš„åŠ©æ‰‹ï¼Œä¸€ä¸ªä½ ä¹äºä¸ä¹‹åˆä½œã€æŠ•èµ„å°å›æ±‡æŠ¥å¤§çš„åŠ©æ‰‹ã€‚ç§‘å­¦è¯æ˜æˆ‘ä»¬æœ‰ä¸¤å¥—å¤§è„‘ç³»ç»Ÿï¼šç³»ç»Ÿ 1 ç”¨äºæ— éœ€åŠªåŠ›çš„æ´»åŠ¨å¦‚åœ¨ä¸€ä¸ªç©ºæ—·çš„è·¯ä¸Šå¼€è½¦ï¼›ç³»ç»Ÿ 2 ç”¨äºå¤æ‚å’Œç¹ççš„å·¥ä½œå¦‚ç®—ä¸€é“æ•°å­¦è¡¨è¾¾å¼ã€‚å°†ä½ çš„æµ‹è¯•ä¸ºç³»ç»Ÿ 1 è®¾è®¡ï¼Œå½“ä½ çœ‹ä¸€æ®µæµ‹è¯•ä»£ç æ—¶ï¼Œéœ€è¦åƒæ”¹ HTML æ–‡æ¡£ä¸€æ ·ç®€å•è€Œä¸æ˜¯åƒè®¡ç®— 2 Ã— (17 Ã— 24)ã€‚

ä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é€‰æ‹©æ€§ä»·æ¯”é«˜ã€æŠ•å…¥äº§å‡ºæ¯”ï¼ˆROIï¼‰é«˜çš„æŠ€æœ¯ã€å·¥å…·ä»¥åŠæµ‹è¯•å¯¹è±¡ã€‚ä»…æµ‹è¯•éœ€è¦çš„å†…å®¹ï¼ŒåŠªåŠ›ä¿æŒå…¶çµæ´»æ€§ï¼ŒæŸäº›æ—¶å€™ç”šè‡³å€¼å¾—å»èˆå¼ƒä¸€äº›æµ‹è¯•æ¥æ¢å–çµæ´»æ€§å’Œç®€æ´æ€§

#### æµ‹è¯•åº”è¯¥åŒ…å«çš„éƒ¨åˆ†

ä¸€ä¸ªæµ‹è¯•æŠ¥å‘Šéœ€è¦è®©ä¸ç†Ÿæ‚‰ä»£ç çš„äººï¼ˆæµ‹è¯•ã€è¿ç»´ï¼‰æ˜ç¡®çŸ¥é“æ–°çš„å˜æ›´æ˜¯ç¬¦åˆéœ€æ±‚ã€‚å› æ­¤æµ‹è¯•åç§°éœ€è¦ä»**éœ€æ±‚å±‚é¢**æè¿°ï¼Œå¹¶ä¸”åŒ…å«ä¸‰ä¸ªéƒ¨åˆ†ï¼š

(1) è¢«æµ‹çš„æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆæ¯”å¦‚ ProductsService.addNewProduct æ–¹æ³•ï¼‰

(2) åœ¨ä»€ä¹ˆæ¡ä»¶å’Œåœºæ™¯ä¸‹ï¼Ÿï¼ˆæ¯”å¦‚æ²¡æœ‰ å‘è¯¥æ–¹æ³•ä¼ å…¥ price å‚æ•°ï¼‰

(3) æœŸæœ›çš„ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿï¼ˆæ¯”å¦‚ä¸å…è®¸æ·»åŠ è¯¥äº§å“ï¼‰

ä½¿ç”¨AAAæ¨¡å¼æ„é€ æµ‹è¯•å†…å®¹

å°†ä½ çš„æµ‹è¯•å†…å®¹åˆ’åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼šå¸ƒç½®ï¼Œæ‰§è¡Œï¼Œæ–­è¨€ â€”â€” Arrange, Act & Assert (AAA)ã€‚è¿™æ ·è¯»è€…å°±æ— éœ€åŠ¨ç”¨è„‘ç»†èƒç†è§£ä½ çš„æµ‹è¯•å†…å®¹äº†ï¼š

1st A - å‡†å¤‡ï¼ˆArrangeï¼‰ï¼šä¸€äº›ç”¨äºæä¾›ä¸Šä¸‹æ–‡çš„ä»£ç ã€‚å¯èƒ½åŒ…å«ï¼šæ„é€ æ•°æ®ã€æ·»åŠ  DB è®°å½•ã€mocking/stubbing å¯¹è±¡ï¼Œä»¥åŠå…¶ä»–çš„å‡†å¤‡ä»£ç ï¼›

2nd A - æ‰§è¡Œï¼ˆActï¼‰ï¼šæ‰§è¡Œæµ‹è¯•å•å…ƒã€‚é€šå¸¸ä¸€è¡Œä»£ç ã€‚

3rd A - æ–­è¨€ï¼ˆAssertï¼‰ï¼šä¿è¯å¾—åˆ°çš„å€¼ç¬¦åˆé¢„æœŸã€‚é€šå¸¸ä¸€è¡Œä»£ç ã€‚

ç”¨äº§å“çš„è¯­è¨€æè¿°æœŸæœ›:ä½¿ç”¨BDDå½¢å¼çš„æ–­è¨€

ä½¿ç”¨å£°æ˜çš„æ–¹å¼å†™ä»£ç ï¼Œå¯ä»¥ä½¿è¯»è€…æ— è„‘ get åˆ°é‡ç‚¹ã€‚è€Œå¦‚æœä½ çš„ä»£ç ä½¿ç”¨å„ç§æ¡ä»¶é€»è¾‘åŒ…è£¹èµ·æ¥ï¼Œåˆ™ä¼šå¢åŠ è¯»è€…çš„ç†è§£éš¾åº¦ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åº”å°½é‡ä½¿ç”¨ç±»ä¼¼äººç±»è¯­è¨€çš„å½¢å¼æè¿°å¦‚ `expect` æˆ– `should` è€Œä¸æ˜¯è‡ªå·±å†™ä»£ç ã€‚å¦‚æœ Chai å’Œ Jest ä¸åŒ…å«ä½ æƒ³è¦çš„æ–­è¨€ï¼Œè€Œä¸”è¿™ç§æ–­è¨€å¯è¢«é«˜åº¦å¤ç”¨æ—¶ï¼Œä½ å¯ä»¥è€ƒè™‘ [æ‰©å±• Jest åŒ¹é…å™¨ (Jest)](https://jestjs.io/docs/en/expect#expectextendmatchers) æˆ–è€…å†™ä¸€ä¸ª [è‡ªå®šä¹‰ Chai æ’ä»¶](https://www.chaijs.com/guide/plugins/)

åšæŒé»‘ç›’æµ‹è¯•ï¼šåªæµ‹publicæ–¹æ³•

æµ‹è¯•å†…éƒ¨é€»è¾‘æ˜¯æ— æ„ä¹‰ä¸”æµªè´¹æ—¶é—´çš„ã€‚å¦‚æœä½ çš„ ä»£ç /API è¿”å›äº†æ­£ç¡®çš„ç»“æœï¼Œä½ çœŸçš„éœ€è¦èŠ±ä¸‰ä¸ªå°æ—¶æ—¶é—´å»æµ‹è¯•å®ƒå†…éƒ¨ç©¶ç«Ÿå¦‚ä½•å®ç°çš„ï¼Œå¹¶ä¸”åœ¨ä¹‹åç»´æŠ¤è¿™ä¸€å †è„†å¼±çš„æµ‹è¯•å—ï¼Ÿæ¯å½“æµ‹è¯•ä¸€ä¸ªå…¬å…±æ–¹æ³•æ—¶ï¼Œå…¶ç§æœ‰å®ç°ä¹Ÿä¼šè¢«éšå¼åœ°æµ‹è¯•ï¼Œåªæœ‰å½“å­˜åœ¨æŸä¸ªé—®é¢˜(ä¾‹å¦‚é”™è¯¯çš„è¾“å‡º)æ—¶æµ‹è¯•æ‰ä¼šä¸­æ–­ã€‚è¿™ç§æ–¹æ³•ä¹Ÿç§°ä¸º`è¡Œä¸ºæµ‹è¯•`ã€‚å¦ä¸€æ–¹é¢ï¼Œå¦‚æœä½ æµ‹è¯•å†…éƒ¨æ–¹æ³•(ç™½ç›’æ–¹æ³•)â€”ä½ çš„å…³æ³¨ç‚¹å°†ä»ç»„ä»¶çš„è¾“å‡ºç»“æœè½¬ç§»åˆ°å…·ä½“çš„ç»†èŠ‚ä¸Šï¼Œå¦‚æœæŸå¤©å†…éƒ¨é€»è¾‘æ”¹å˜äº†ï¼Œå³ä½¿ç»“æœä¾ç„¶æ­£ç¡®ï¼Œä½ ä¹Ÿè¦èŠ±ç²¾åŠ›å»ç»´æŠ¤ä¹‹å‰çš„æµ‹è¯•é€»è¾‘ï¼Œè¿™æ— å½¢ä¸­å¢åŠ äº†ç»´æŠ¤æˆæœ¬ã€‚

ä½¿ç”¨æ­£ç¡®çš„æµ‹è¯•æ›¿èº«(Test Double)ï¼šé¿å…æ€»ç”¨stubå’Œspy

æµ‹è¯•æ›¿èº«æ˜¯æŠŠåŒåˆƒå‰‘ï¼Œä»–ä»¬åœ¨æä¾›å·¨å¤§ä»·å€¼çš„åŒæ—¶ï¼Œè€¦åˆäº†åº”ç”¨çš„å†…éƒ¨é€»è¾‘ ([è¿™é‡Œæœ‰ä¸€ç¯‡å…³äºæµ‹è¯•æ›¿èº«çš„æ–‡ç« : mocks vs stubs vs spies](https://martinfowler.com/articles/mocksArentStubs.html)).
åœ¨ä½¿ç”¨æµ‹è¯•æ›¿èº«å‰ï¼Œé—®è‡ªå·±ä¸€ä¸ªå¾ˆç®€å•çš„é—®é¢˜ï¼šæˆ‘æ˜¯ç”¨å®ƒæ¥æµ‹è¯•éœ€æ±‚æ–‡æ¡£ä¸­å®šä¹‰çš„å¯è§çš„åŠŸèƒ½æˆ–è€…å¯èƒ½å¯è§çš„åŠŸèƒ½å—ï¼Ÿå¦‚æœä¸æ˜¯ï¼Œé‚£å°±å¯èƒ½æ˜¯ç™½ç›’æµ‹è¯•äº†ã€‚
ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœä½ æƒ³æµ‹è¯•ä½ çš„åº”ç”¨ç¨‹åºåœ¨æ”¯ä»˜æœåŠ¡å®•æœºæ—¶çš„åˆç†è¡¨ç°ï¼Œä½ å¯ä»¥ stub æ”¯ä»˜æœåŠ¡å¹¶è§¦å‘ä¸€äº›â€œæ— å“åº”â€è¿”å›ï¼Œä»¥ç¡®ä¿è¢«æµ‹è¯•çš„å•å…ƒè¿”å›æ­£ç¡®çš„å€¼ã€‚è¿™å¯ä»¥æµ‹è¯•ç‰¹å®šåœºæ™¯ä¸‹çš„åº”ç”¨ç¨‹åºçš„è¡Œä¸ºã€å“åº”ã€è¾“å‡ºç»“æœã€‚ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€ä¸ª spy æ¥æ–­è¨€å½“æœåŠ¡å®•æœºæ—¶å‘é€äº†ä¸€å°ç”µå­é‚®ä»¶â€”â€”è¿™åˆæ˜¯ä¸€ä¸ªé’ˆå¯¹å¯èƒ½å‡ºç°åœ¨éœ€æ±‚æ–‡æ¡£ä¸­çš„è¡Œä¸ºçš„æ£€æŸ¥(â€œå¦‚æœæ— æ³•ä¿å­˜ä»˜æ¬¾ï¼Œè¯·å‘é€ç”µå­é‚®ä»¶â€)ã€‚åè¿‡æ¥ï¼Œå¦‚æœä½  mock çš„æ”¯ä»˜æœåŠ¡ï¼Œå¹¶ç¡®ä¿å®ƒè¢«æ­£ç¡®è°ƒç”¨å¹¶ä¼ å…¥æ­£ç¡®çš„ JavaScript ç±»å‹ï¼Œé‚£ä¹ˆä½ çš„æµ‹è¯•é‡ç‚¹æ˜¯å†…éƒ¨çš„é€»è¾‘ï¼Œå®ƒä¸åº”ç”¨çš„åŠŸèƒ½å…³ç³»ä¸å¤§ï¼Œè€Œä¸”å¯èƒ½ä¼šç»å¸¸å˜åŒ–ã€‚

#### CI

1.ä¸°å¯Œä½ çš„linterå¹¶ä¸¢å¼ƒæœ‰linté—®é¢˜çš„æ„å»º

åªéœ€äº”åˆ†é’Ÿé…ç½®ï¼Œå³å¯å…è´¹è·å–è‡ªåŠ¨ä¿æŠ¤ä»£ç çš„å·¥å…·æ¥æ•è·ä»£ç ä¸­çš„æ˜¾è‘—é—®é¢˜ã€‚Lint ä¸å†åªæ˜¯æ ·å¼å·¥å…·ï¼Œç°åœ¨çš„ linter å¯ä»¥æ•è·å¾ˆå¤šä¸¥é‡çš„é—®é¢˜æ¯”å¦‚ error æ²¡æœ‰è¢«æ­£ç¡®æŠ›å‡ºä»¥åŠä¿¡æ¯ä¸¢å¤±ã€‚åœ¨åŸºç¡€ rule(å¦‚ [ESLint standard](https://www.npmjs.com/package/eslint-plugin-standard) æˆ– [Airbnb style](https://www.npmjs.com/package/eslint-config-airbnb))ä¹‹ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘åŠ å…¥ä¸€äº›ç‰¹æ®Šçš„ linterï¼Œä¾‹å¦‚ [eslint-plugin-chai-expect](https://www.npmjs.com/package/eslint-plugin-chai-expect) å¯ä»¥å‘ç°ç”¨ä¾‹æ²¡æœ‰å†™æ–­è¨€ï¼Œ[eslint-plugin-promise](https://www.npmjs.com/package/eslint-plugin-promise?activeTab=readme) å¯ä»¥å‘ç° promise æ²¡æœ‰ resolveï¼Œ[eslint-plugin-security](https://www.npmjs.com/package/eslint-plugin-security?activeTab=readme) å¯ä»¥å‘ç°å¯èƒ½è¢« DOS æ”»å‡»çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œä»¥åŠ [eslint-plugin-you-dont-need-lodash-underscore](https://www.npmjs.com/package/eslint-plugin-you-dont-need-lodash-underscore) æ“…é•¿åœ¨ä»£ç ä½¿ç”¨ V8 æ ¸å¿ƒæ–¹æ³•åç»™å‡ºå‘Šè­¦ï¼Œå¦‚ Lodash._map(â€¦)ã€‚

2.é€šè¿‡æœ¬åœ°çš„å¼€å‘CIå¼€ç¼©çŸ­åé¦ˆå¾ªç¯

åœ¨æœ¬åœ°ä½¿ç”¨ä¸€ä¸ªåŒ…å«æµ‹è¯•ã€Lintã€ç¨³å®šæ€§æ£€æŸ¥ç­‰åŠŸèƒ½çš„ CI å¯ä»¥å¸®åŠ©å¼€å‘è€…è¿…é€Ÿå¾—åˆ°åé¦ˆå¹¶ç¼©çŸ­[åé¦ˆå¾ªç¯](https://www.gocd.org/2016/03/15/are-you-ready-for-continuous-delivery-part-2-feedback-loops/)ã€‚å› ä¸ºä¸€ä¸ªæœ‰æ•ˆçš„æµ‹è¯•æµç¨‹åŒ…å«å¾ˆå¤šè¿­ä»£å¾ªç¯ (1) å°è¯• -> (2) åé¦ˆ -> (3) é‡æ„ã€‚æ‰€ä»¥åé¦ˆè¶Šå¿«ï¼Œå¼€å‘è€…å¯ä»¥åœ¨æ¯ä¸ªæ¨¡å—ä¸­å¯ä»¥æ‰§è¡Œçš„è¿­ä»£å°±è¶Šå¤šï¼Œå¹¶ä¸”å¯ä»¥å¾—åˆ°æ›´å¥½çš„ç»“æœã€‚åè¿‡æ¥ï¼Œå¦‚æœåé¦ˆæ¥å¾—å¾ˆæ…¢ï¼Œåˆ™ä¸€å¤©åªèƒ½æ‰§è¡Œå¾ˆå°‘çš„è¿­ä»£ï¼Œåˆ™å›¢é˜Ÿå¯èƒ½ä¼šå› æ€¥éœ€æ‰§è¡Œä¸‹ä¸€ä¸ªä¸»é¢˜/ä»»åŠ¡/æ¨¡å— è€Œä¸å†æç‚¼å½“å‰æ¨¡å—ã€‚

3.åœ¨çœŸå®çš„ç”Ÿäº§ç¯å¢ƒé•œåƒä¸­æ‰§è¡Œç«¯åˆ°ç«¯æµ‹è¯•

ç«¯åˆ°ç«¯æµ‹è¯•æ˜¯æ¯ä¸ª CI çš„ä¸»è¦æŒ‘æˆ˜â€”â€”å®æ—¶åˆ›å»ºä¸€ä¸ªç”Ÿäº§ç¯å¢ƒé•œåƒå¹¶å¸¦ä¸Šæ‰€æœ‰ç›¸å…³çš„äº‘æœåŠ¡æ˜¯å¾ˆè´¹æ—¶è´¹åŠ›çš„ã€‚ä½ éœ€è¦æ‰¾åˆ°æœ€ä½³çš„æŠ˜ä¸­ï¼š[Docker-compose](https://serverless.com/) é€šè¿‡ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶å°†ç‹¬ç«‹çš„ docker ç¯å¢ƒæ”¾ç½®åˆ°ç›¸åŒçš„å®¹å™¨ä¸­ï¼Œä½†æ˜¯èƒŒåçš„æŠ€æœ¯ï¼ˆå¦‚ç½‘ç»œã€æ„å»ºæ¨¡å‹ï¼‰ä¸çœŸå®ä¸–ç•Œæœ‰æ‰€å·®åˆ«ã€‚ä½ å¯ä»¥å°†å…¶ä¸[â€˜AWS Localâ€™](https://github.com/localstack/localstack)ç»“åˆåœ¨çœŸå®çš„ AWS æœåŠ¡ä¸­ä½¿ç”¨ã€‚å¦‚æœä½ ä½¿ç”¨äº† [serverless](https://serverless.com/) æ¡†æ¶ï¼Œ [AWS SAM](https://docs.aws.amazon.com/lambda/latest/dg/serverless_app.html)å…è®¸æœ¬åœ°è°ƒç”¨ FaaS ä»£ç ã€‚

Kubernetes å¼ºå¤§çš„ç”Ÿæ€ç³»ç»Ÿè¿˜æ²¡æœ‰å½¢æˆä¸€ä¸ªæ˜“ç”¨çš„æ ‡å‡†å·¥å…·ç”¨äºæœ¬åœ°å’Œ CI é•œåƒï¼Œè™½ç„¶ç»å¸¸æ¨å‡ºè®¸å¤šæ–°çš„å·¥å…·ã€‚ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨åƒ [Minikube](https://kubernetes.io/docs/setup/minikube/) å’Œ [MicroK8s](https://microk8s.io/) è¿™æ ·çš„å·¥å…·æ¥è¿è¡Œä¸€ä¸ªâ€œæœ€å°åŒ–çš„ kubernetesâ€ï¼Œè¿™äº›å·¥å…·æ›´æ¥è¿‘å®é™…ï¼Œä½†æ˜¯å¼€é”€æ›´å°‘ã€‚å¦ä¸€ç§æ–¹æ³•æ˜¯åœ¨è¿œç¨‹çš„ â€œçœŸå® Kubernetesâ€ ä¸Šè¿›è¡Œæµ‹è¯•ï¼Œä¸€äº› CI æä¾›å•†(ä¾‹å¦‚ [Codefresh](https://codefresh.io/))ä¸ Kubernetes ç¯å¢ƒè¿›è¡Œäº†æœ¬åœ°é›†æˆï¼Œä½¿å¾—åœ¨çœŸå®ç¯å¢ƒä¸­è¿è¡Œ CI ç®¡é“å˜å¾—å¾ˆå®¹æ˜“ï¼Œå…¶ä»–çš„åˆ™å…è®¸é’ˆå¯¹è¿œç¨‹ Kubernetes è¿›è¡Œè‡ªå®šä¹‰è„šæœ¬ã€‚

4.å¹¶è¡Œæµ‹è¯•å·¥ä½œ

åªè¦æ“ä½œåˆç†ï¼Œæµ‹è¯•æ˜¯ä½  7x24 å°æ—¶çš„æœ‹å‹ï¼Œä¸ºä½ æä¾›éå¸¸åŠæ—¶çš„åé¦ˆã€‚å®é™…ä¸Šï¼Œåœ¨å•ä¸ªçº¿ç¨‹ä¸Šæ‰§è¡Œ 500 ä¸ªå•å…ƒæµ‹è¯•å¯èƒ½éœ€è¦å¾ˆé•¿æ—¶é—´ã€‚å¹¸è¿çš„æ˜¯ï¼Œç°ä»£æµ‹è¯•è¿è¡Œå™¨å’Œ CI å¹³å°ï¼ˆå¦‚ [Jest](https://github.com/facebook/jest), [AVA](https://github.com/avajs/ava) å’Œ [Mocha extensions](https://github.com/yandex/mocha-parallel-tests)ï¼‰å¯ä»¥å°†æµ‹è¯•å¹¶è¡ŒåŒ–ä¸ºå¤šä¸ªè¿›ç¨‹ï¼Œä»¥æ˜¾è‘—ç¼©çŸ­åé¦ˆæ—¶é—´ã€‚ ä¸€äº›CIä¾›åº”å•†ä¹Ÿæ”¯æŒè·¨å®¹å™¨å¹¶è¡ŒåŒ–æµ‹è¯•ï¼Œè¿™è¿›ä¸€æ­¥ç¼©çŸ­äº†åé¦ˆå¾ªç¯ã€‚ æ— è®ºæ˜¯åœ¨æœ¬åœ°å¤šä¸ªè¿›ç¨‹ï¼Œè¿˜æ˜¯åœ¨ä½¿ç”¨å¤šå°æœºå™¨çš„æŸäº›äº‘ CLI ä¸Š - å¹¶è¡ŒåŒ–éœ€è¦ä¿è¯æµ‹è¯•ç”¨ä¾‹çš„ç‹¬ç«‹æ€§ï¼Œå› ä¸ºæ¯ä¸ªç”¨ä¾‹å¯èƒ½åœ¨ä¸åŒçš„è¿›ç¨‹ä¸Šè¿è¡Œã€‚

5.å¯¹äºä¾èµ–ï¼šæŒç»­æ£€æŸ¥æœ‰æ¼æ´çš„ä¾èµ–/è‡ªåŠ¨å‡çº§ä¾èµ–





#### æµ‹è¯•ç»“æœåé¦ˆ

1.ä¿è¯è¶³å¤Ÿçš„è¦†ç›–ç‡

æµ‹è¯•çš„ç›®çš„æ˜¯ä¸ºäº†è·å–è¶³å¤Ÿçš„è‡ªä¿¡å»å¿«é€Ÿè¿­ä»£ï¼Œæ˜¾ç„¶ï¼Œè¶Šå¤šä»£ç è¢«æµ‹è¯•åˆ°ï¼Œåˆ™æˆ‘ä»¬å›¢é˜Ÿè¶Šè‡ªä¿¡ã€‚è¦†ç›–ç‡ç”¨äºåº¦é‡å¤šå°‘ä»£ç è¡Œï¼ˆä»¥åŠåˆ†æ”¯ã€è¯­å¥ç­‰ï¼‰è¢«æµ‹è¯•æ‰§è¡Œåˆ°ã€‚æ‰€ä»¥å¤šå°‘å¤Ÿäº†ï¼Ÿ10-30% æ˜æ˜¾æ— æ³•è¯æ˜é¡¹ç›®çš„æ­£ç¡®æ€§ï¼Œè€Œ 100% åˆ™éå¸¸è€—æ—¶å¹¶ä¸”å¯èƒ½ä¼šä½¿å¾—ä½ å…³æ³¨å¤ªå¤šç»†ææœ«èŠ‚çš„ä»£ç ã€‚æˆ‘ä»¬çš„ç­”æ¡ˆæ˜¯å–å†³äºåº”ç”¨çš„ç±»å‹â€”â€”å¦‚æœä½ æ­£åœ¨å»ºé€  A380 çš„ä¸‹ä¸€ä»£ï¼Œé‚£ä¹ˆ 100% æ˜¯å¿…é¡»çš„ï¼›è€Œå¯¹äºä¸€ä¸ªæ¼«ç”»ç½‘ç«™ï¼Œ50% å¯èƒ½å¤ªå¤šäº†ã€‚å°½ç®¡å¤§éƒ¨åˆ†æµ‹è¯•æ‹¥è¶¸ä»¬å¼ºè°ƒè¦†ç›–ç‡é—¨æ§›æ˜¯ä¾èµ–æ‰€å¤„ç¯å¢ƒçš„ï¼Œä½†æ˜¯ä»–ä»¬å¤§éƒ¨åˆ†æåˆ° 80% æ˜¯ä¸€ä¸ªä¸é”™çš„è§„åˆ™ï¼ˆ[Fowler: â€œin the upper 80s or 90sâ€](https://martinfowler.com/bliki/TestCoverage.html)ï¼‰å¤§æ¦‚å¯ä»¥æ»¡è¶³å¤§éƒ¨åˆ†åº”ç”¨ã€‚

ä½ å¯èƒ½æƒ³åœ¨ä½ çš„ CI ä¸­è®¾ç½®è¦†ç›–ç‡é—¨æ§›ï¼Œå¹¶é˜»æ­¢ä¸æ»¡è¶³è¦æ±‚çš„æ„å»ºï¼ˆä¹Ÿå¯ä»¥ä¸ºæ¯ä¸€ä¸ªç»„ä»¶è®¾ç½®é—¨æ§›ï¼Œè§ä¸‹é¢çš„ä¾‹å­ï¼‰ã€‚å¦å¤–ï¼Œæˆ‘ä»¬å¯ä»¥ç›‘æµ‹æ„å»ºçš„è¦†ç›–ç‡ä¸‹é™ï¼ˆå½“æ–°æäº¤çš„ä»£ç çš„è¦†ç›–ç‡è¾ƒä½æ—¶ï¼‰â€”â€”è¿™å°†æ¨åŠ¨å¼€å‘è€…æå‡æˆ–è€…è‡³å°‘ä¿æŒè¢«æµ‹è¯•çš„ä»£ç æ•°ã€‚è¯´äº†è¿™ä¹ˆå¤šï¼Œè¦†ç›–ç‡ä»…ä»…æ˜¯ä¸€ä¸ªå¯é‡åŒ–çš„åº¦é‡å€¼ï¼Œå®ƒå¹¶ä¸èƒ½ç¡®åˆ‡åœ°è¯æ˜ä½ çš„æµ‹è¯•çš„å¥å£®æ€§ï¼Œä½ ä¹Ÿå¯èƒ½è¢«å®ƒéª—åˆ°

2.æ£€æµ‹è¦†ç›–ç‡æŠ¥å‘Šï¼Œä»¥å‘ç°æœªè¦†ç›–çš„åŒºåŸŸå’Œå…¶ä»–å¥‡æ€ªçš„åœ°æ–¹

æœ‰äº›é—®é¢˜éšè—åœ¨é›·è¾¾ä¹‹ä¸‹ï¼Œè€Œä½¿ç”¨ä¼ ç»Ÿå·¥å…·å¾ˆéš¾å‘ç°å®ƒä»¬ã€‚å®ƒä»¬é€šå¸¸ä¸æ˜¯çœŸæ­£çš„ bugï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯åº”ç”¨çš„æ€ªå¼‚è¡¨ç°ï¼Œè€Œè¿™ç§è¡¨ç°å¯èƒ½é€ æˆä¸¥é‡å½±å“ã€‚ä¾‹å¦‚ï¼Œä¸€äº›ä»£ç åŒºåŸŸå‡ ä¹ä¸ä¼šæˆ–å¾ˆå°‘è¢«è°ƒç”¨â€”â€”ä½ ä»¥ä¸ºâ€œPricingCalculatorâ€ç±»åªä¼šè®¾ç½®äº§å“ä»·æ ¼ï¼Œç»“æœä»–å‡ ä¹ä¸ä¼šè¢«è°ƒç”¨ï¼Œå³ä½¿æˆ‘ä»¬çš„æ•°æ®åº“ä¸­æœ‰ 10000 ä»¶å•†å“ä»¥åŠå¾ˆå¤šäº¤æ˜“â€¦â€¦ä»£ç è¦†ç›–ç‡æŠ¥å‘Šå¯ä»¥å¸®åŠ©ä½ å‘ç°åº”ç”¨æ˜¯å¦æŒ‰ç…§ä½ çš„æœŸæœ›æ‰§è¡Œã€‚åˆæ¬¡ä¹‹å¤–ï¼Œå®ƒé«˜äº®äº†é‚£äº›ç±»å‹çš„ä»£ç æ²¡æœ‰è¢«æµ‹è¯•åˆ°â€”â€”80% çš„ä»£ç è¢«æµ‹è¯•å¹¶ä¸èƒ½è¯´æ˜ä½ çš„å…³é”®éƒ¨åˆ†è¢«è¦†ç›–åˆ°ã€‚ç”ŸæˆæŠ¥å‘Šå¾ˆç®€å•â€”â€”åªéœ€åœ¨æ„é€ æˆ–æµ‹è¯•è¦†ç›–ç‡æ—¶è·‘ä½ çš„åº”ç”¨ï¼Œç„¶åçœ‹çœ‹èŠ±èŠ±ç»¿ç»¿çš„æŠ¥å‘Šæ¥å‘Šè¯‰ä½ æ¯ä¸€ç‰‡ä»£ç åŒºåŸŸè¢«å¤šé¢‘ç¹åœ°è°ƒåˆ°ã€‚å¦‚æœä½ èŠ±ä¸€ç‚¹æ—¶é—´çœ‹çœ‹è¿™äº›æ•°æ®â€”â€”ä½ å¯èƒ½ä¼šå‘ç°ä¸€äº›é—®é¢˜ã€‚

3.ä½¿ç”¨å˜å¼‚æµ‹è¯•åº¦é‡é€»è¾‘è¦†ç›–ç‡

ä¼ ç»Ÿè¦†ç›–ç‡é€šå¸¸æ˜¯éª—äººçš„ï¼šå®ƒå¯èƒ½æ˜¾ç¤ºäº† 100% çš„ä»£ç è¦†ç›–ç‡ï¼Œä½†æ˜¯ä½ çš„æ‰€æœ‰çš„å‡½æ•°éƒ½æ²¡æœ‰è¿”å›æ­£ç¡®çš„ç»“æœã€‚æ€ä¹ˆå›äº‹ï¼Ÿå®ƒåªæ˜¯ç®€å•åœ°åº¦é‡ä½ çš„æµ‹è¯•ä»£ç è®¿é—®è¿‡å“ªäº›ä»£ç è¡Œï¼Œè€Œä¸ä¼šæ£€æŸ¥ tc æ˜¯å¦çœŸæ­£åœ°æµ‹è¯•äº†ä»€ä¹ˆâ€”â€”æ–­è¨€äº†æ­£ç¡®çš„è¿”å›ã€‚
åŸºäºå˜æ›´çš„æµ‹è¯•é€‚ç”¨äºè¿™ä¸ªéœ€æ±‚ã€‚å®ƒåº¦é‡äº†çœŸæ­£è¢«**æµ‹è¯•è¿‡**çš„ä»£ç è€Œä¸æ˜¯ä»…ä»…è¢«**è®¿é—®è¿‡**çš„ã€‚[Stryker](https://stryker-mutator.io/) æ˜¯ä¸€ä¸ªç”¨äºå˜å¼‚æµ‹è¯•çš„ JavaScript åº“ï¼Œè€Œå®ƒçš„å®ç°å¾ˆå·§å¦™ï¼š

(1) å®ƒæœ‰æ„åœ°æ”¹å˜ä»£ç å¹¶ã€Œæ¤å…¥ bugã€ã€‚ä¾‹å¦‚ä»£ç  newOrder.price===0 ä¼šè¢«æ”¹æˆ newOrder.price!=0ï¼Œè¿™ä¸ª â€œbugâ€å³æˆä¸ºå˜å¼‚ã€‚

(2) å®ƒè·‘ä¸€éç”¨ä¾‹ï¼Œå¦‚æœæ‰€æœ‰éƒ½æˆåŠŸäº†åˆ™è¯´æ˜æœ‰é—®é¢˜â€”â€”è¿™äº›ç”¨ä¾‹æ²¡æœ‰çœŸæ­£å®ç°ä»–ä»¬å‘ç° bug çš„ç›®çš„ï¼Œè¿™äº›å˜å¼‚å³æ‰€è°“çš„â€œå­˜æ´»â€äº†ã€‚å¦‚æœç”¨ä¾‹å¤±è´¥äº†ï¼Œé‚£ä¹ˆå¾ˆæ£’ï¼Œå˜å¼‚è¢«æ€æ‰äº†ã€‚

ç›¸å¯¹äºä¼ ç»Ÿè¦†ç›–ç‡ï¼Œå¾—çŸ¥æ‰€æœ‰æˆ–è€…å¤§éƒ¨åˆ†å˜å¼‚è¢«æ€æ‰ä¼šç»™äºˆä½ æ›´é«˜çš„ä¿¡å¿ƒï¼Œè€Œä¸¤è€…èŠ±è´¹çš„æ—¶é—´å·®ä¸å¤šã€‚

4.ä½¿ç”¨Test linteré˜²æ­¢æµ‹è¯•ä»£ç é—®é¢˜

æœ‰ä¸€ç³»åˆ— ESLint æ’ä»¶ç”¨äºæ£€æŸ¥æµ‹è¯•ä»£ç çš„é£æ ¼å¹¶å‘ç°é—®é¢˜ã€‚æ¯”å¦‚ [eslint-plugin-mocha](https://www.npmjs.com/package/eslint-plugin-mocha) ä¼šè­¦å‘Šä¸€ä¸ªå†™åœ¨ global å±‚çš„ç”¨ä¾‹ï¼ˆä¸æ˜¯ describe() è¯­å¥çš„å­çº§ï¼‰ï¼Œæˆ–è€…å½“æµ‹è¯•è¢« [skip](https://mochajs.org/#inclusive-tests) æ—¶ä¼šå‘å‡ºè­¦å‘Šï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´ä½ é”™è¯¯åœ°è®¤ä¸ºæ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡äº†ã€‚ç±»ä¼¼çš„ï¼Œ[eslint-plugin-jest](https://github.com/jest-community/eslint-plugin-jest) å¯ä»¥åœ¨ä¸€ä¸ªç”¨ä¾‹æ²¡æœ‰ä»»ä½•æ–­è¨€ï¼ˆä¸è¦†ç›–ä»»ä½•å†…å®¹ï¼‰æ—¶ç»™å‡ºè­¦å‘Šã€‚



#### å‰ç«¯æµ‹è¯•

1.å°†UIä¸åŠŸèƒ½åˆ†ç¦»

å½“ä¸“æ³¨äºæµ‹è¯•ç»„ä»¶é€»è¾‘æ—¶ï¼ŒUI ç»†èŠ‚å°±å˜æˆäº†åº”è¯¥å‰”é™¤çš„å™ªéŸ³ï¼Œè¿™æ ·æ‚¨çš„æµ‹è¯•å°±å¯ä»¥é›†ä¸­åœ¨çº¯æ•°æ®ä¸Šã€‚å®é™…ä¸Šï¼Œé€šè¿‡æŠ½è±¡ä»ä»£ç ä¸­æå–æ‰€éœ€çš„æ•°æ®å°†é™ä½ä¸å›¾å½¢å®ç°çš„è€¦åˆï¼Œä»…å¯¹çº¯æ•°æ® (vs HTML/CSS å›¾å½¢ç»†èŠ‚) æ–­è¨€ï¼Œå¹¶ç¦ç”¨ä¼šæ‹–æ…¢é€Ÿåº¦çš„åŠ¨ç”»ã€‚æ‚¨å¯èƒ½ä¼šè¯•å›¾é¿å…æ¸²æŸ“ï¼Œä»…æµ‹è¯• UI åé¢çš„éƒ¨åˆ†(ä¾‹å¦‚ï¼ŒæœåŠ¡ã€æ“ä½œã€å­˜å‚¨)ï¼Œä½†è¿™å°†å¯¼è‡´æµ‹è¯•ä¸å®é™…æƒ…å†µä¸å¤ªç›¸ç¬¦ï¼Œã€Œæ­£ç¡®çš„æ•°æ®æ ¹æœ¬æ— æ³•åˆ°è¾¾ UIã€è¿™ç§é—®é¢˜å°±æ— æ³•å‘ç°ã€‚

2.ä½¿ç”¨ä¸å¤ªå®¹æ˜“æ”¹å˜çš„å±æ€§å»æŸ¥è¯¢HTMLå…ƒç´ 

é€šè¿‡ä¸å¤ªåŒæ„å—å›¾å½¢å˜æ›´å°è±¡çš„å±æ€§æŸ¥è¯¢ HTML å…ƒç´ ï¼ˆä¾‹å¦‚ form labelï¼Œè€Œä¸æ˜¯ CSS selectorï¼‰ã€‚å¦‚æœæŒ‡å®šçš„å…ƒç´ æ²¡æœ‰è¿™æ ·çš„å±æ€§ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªä¸“ç”¨çš„æµ‹è¯•å±æ€§ï¼Œå¦‚â€œtest-id-submit-buttonâ€ã€‚è¿™æ ·åšä¸ä»…å¯ä»¥ç¡®ä¿æ‚¨çš„åŠŸèƒ½/é€»è¾‘æµ‹è¯•ä¸ä¼šå› ä¸ºå¤–è§‚å˜åŒ–è€Œä¸­æ–­ï¼Œè€Œä¸”æ•´ä¸ªå›¢é˜Ÿå¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°ï¼Œæµ‹è¯•ä½¿ç”¨äº†è¿™ä¸ªå…ƒç´ å’Œå±æ€§ï¼Œä¸åº”è¯¥åˆ é™¤å®ƒ

3.å°½é‡ä½¿ç”¨çœŸå®å¹¶ä¸”å®Œå…¨æ¸²æŸ“çš„ç»„ä»¶è¿›è¡Œæµ‹è¯•

åªè¦å¤§å°åˆé€‚ï¼Œå°±åƒç”¨æˆ·é‚£æ ·ä»å¤–éƒ¨æµ‹è¯•ç»„ä»¶ï¼Œå®Œå…¨æ¸²æŸ“ UIï¼Œå¯¹å…¶è¿›è¡Œæ“ä½œï¼Œå¹¶æ–­è¨€å‘ˆç°çš„ UI çš„è¡Œä¸ºç¬¦åˆé¢„æœŸã€‚é¿å…å„ç§ mockã€éƒ¨åˆ†å’Œ shallow renderâ€”â€”è¿™ä¹ˆåšå¯èƒ½ä¼šç”±äºç¼ºä¹ç»†èŠ‚å¯¼è‡´æœªæ•è·çš„ bugï¼Œå¹¶ä¸”ç”±äºæµ‹è¯•ä¸å†…éƒ¨çš„æ··åœ¨ä¸€èµ·å°†å¢åŠ ç»´æŠ¤æˆæœ¬(å‚è§å°ç»“â€œå¤šç”¨é»‘ç›’æµ‹è¯•â€)ã€‚å¦‚æœå…¶ä¸­ä¸€ä¸ªå­ç»„ä»¶æ˜æ˜¾æ‹–æ…¢æµ‹è¯•(å¦‚åŠ¨ç”»)æˆ–ä½¿å¾ˆéš¾é…ç½®ï¼Œå¯ä»¥è€ƒè™‘ä¸»åŠ¨ç”¨ä¼ªç»„ä»¶æ›¿æ¢å®ƒã€‚

ç»¼ä¸Šæ‰€è¿°ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯: è¿™ç§æŠ€æœ¯é€‚ç”¨äºå°è£…ä¸€å®šæ•°é‡å­ç»„ä»¶çš„ä¸­å°å‹ç»„ä»¶ã€‚å¦‚æœä¸€ä¸ªç»„ä»¶åŒ…å«å¤ªå¤šçš„å­ç»„ä»¶ï¼Œé‚£ä¹ˆå°†å¾ˆéš¾å¯¹å¤±è´¥æµ‹è¯•è¿›è¡Œå®šä½(åˆ†ææ ¹æœ¬åŸå› )ï¼Œå¹¶ä¸”å¯èƒ½ä¼šå˜å¾—è¿‡äºç¼“æ…¢ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåªéœ€é’ˆå¯¹èƒ–çˆ¶ç»„ä»¶ç¼–å†™å°‘é‡æµ‹è¯•ï¼Œè€Œé’ˆå¯¹å…¶å­ç»„ä»¶ç¼–å†™æ›´å¤šæµ‹è¯•ã€‚

4.ä¸è¦sleepï¼Œä½¿ç”¨æ¡†æ¶å†…ç½®çš„å¯¹ async äº‹ä»¶çš„æ”¯æŒã€‚å¹¶ä¸”å°è¯•ææ•ˆã€‚

åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œè¢«æµ‹è¯•å•å…ƒçš„å®Œæˆæ—¶é—´æ˜¯æœªçŸ¥çš„ (ä¾‹å¦‚ï¼Œanimation æŒ‚èµ·äº†å…ƒç´ è¡¨ç° )â€”â€”åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸è¦ sleep (ä¾‹å¦‚setTimeout)ï¼Œå¹¶æ˜¯ä½¿ç”¨å¤§å¤šæ•°æ¡†æ¶æä¾›çš„æ›´é è°±çš„æ–¹æ³•ã€‚ä¸€äº›åº“å…è®¸ç­‰å¾…æ“ä½œ (ä¾‹å¦‚ [Cypress .request('url')](https://docs.cypress.io/guides/references/best-practices.html#Unnecessary-Waiting))ï¼Œå¦ä¸€äº›åº“æä¾›ç”¨äºç­‰å¾…çš„ APIï¼Œå¦‚ [@testing-library/dom æ–¹æ³• wait(expect(element))](https://testing-library.com/docs/guide-disappearance)ã€‚æœ‰æ—¶ä¸€ç§æ›´ä¼˜é›…çš„æ–¹æ³•æ˜¯ stub æ…¢çš„èµ„æºï¼Œæ¯”å¦‚APIï¼Œç„¶åä¸€æ—¦å“åº”æ—¶é—´å˜å¾—ç¡®å®šï¼Œç»„ä»¶å°±å¯ä»¥æ˜¾å¼åœ°é‡æ–°æ¸²æŸ“ã€‚å½“ä¾èµ–ä¸€äº› sleep çš„å¤–éƒ¨ç»„ä»¶æ—¶ï¼Œ[åŠ å¿«æ—¶é’Ÿ](https://jestjs.io/docs/en/timer-mocks)å¯èƒ½ä¼šæä¾›å¸®åŠ©ã€‚sleep æ˜¯ä¸€ç§éœ€è¦é¿å…çš„æ¨¡å¼ï¼Œå› ä¸ºå®ƒä¼šè¿«ä½¿æ‚¨çš„æµ‹è¯•å˜å¾—ç¼“æ…¢æˆ–æœ‰é£é™©(å½“ç­‰å¾…çš„æ—¶é—´å¤ªçŸ­æ—¶)ã€‚å½“ sleep å’Œè½®è¯¢ä¸å¯é¿å…ä¸”æµ‹è¯•æ¡†æ¶åŸç”Ÿä¸æ”¯æŒæ—¶ï¼Œä¸€äº›npmåº“ (å¦‚ [wait-for-expect](https://www.npmjs.com/package/wait-for-expect)) å¯ä»¥å¸®åŠ©è§£å†³åŠç¡®å®šæ€§é—®é¢˜ã€‚

5.è§‚å¯Ÿå†…å®¹æ˜¯å¦‚ä½•é€šè¿‡ç½‘ç»œæä¾›çš„

ä½¿ç”¨ä¸€äº›æ´»åŠ¨ç›‘è§†å™¨ï¼Œä»¥ç¡®ä¿åœ¨çœŸå®ç½‘ç»œä¸‹çš„é¡µé¢è´Ÿè½½æ˜¯æœ€ä¼˜çš„â€”â€”è¿™åŒ…æ‹¬äº†ä¸€äº›ç”¨æˆ·ä½“éªŒé—®é¢˜ï¼šå¦‚ç¼“æ…¢çš„é¡µé¢è´Ÿè½½æˆ–æœªå‹ç¼©çš„åŒ…ã€‚æ£€æŸ¥å·¥å…·å¸‚åœºå¾ˆä¸°å¯Œï¼šåƒ [pingdom](https://www.pingdom.com/)ã€AWS CloudWatchã€[gcp StackDriver](https://cloud.google.com/monitoring/uptime-checks/) è¿™æ ·çš„åŸºç¡€å·¥å…·å¯ä»¥å¾ˆå®¹æ˜“åœ°é…ç½®æ¥ç›‘è§†æœåŠ¡å™¨æ˜¯å¦å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œå¹¶åœ¨åˆç†çš„ SLA ä¸‹å“åº”ã€‚ä¸è¿‡è¿™åªè§£å†³äº†è¡¨é¢ä¸Šçš„é—®é¢˜ï¼Œå› æ­¤æœ€å¥½é€‰æ‹©ä¸“é—¨ç”¨äºå‰ç«¯çš„å·¥å…· (å¦‚ [lighthouse](https://developers.google.com/web/tools/lighthouse/)ã€[pagespeed](https://developers.google.com/speed/pagespeed/insights/)) ä»¥è¿›è¡Œæ›´å…¨é¢çš„åˆ†æã€‚æ³¨æ„åŠ›åº”è¯¥æ”¾åœ¨ç—‡çŠ¶å’Œç›´æ¥å½±å“ç”¨æˆ·ä½“éªŒçš„æŒ‡æ ‡ä¸Šï¼Œæ¯”å¦‚é¡µé¢åŠ è½½æ—¶é—´ã€[æœ‰æ„ä¹‰çš„ç»˜åˆ¶](https://scotch.io/courses/10-web-performance-audit-tips-for-your-next-billion-users-in-2018/fmp-first-meaningful-paint)ã€[é¡µé¢å¯äº¤äº’(TTI) æ—¶é—´](https://calibreapp.com/blog/time-to-interactive/)ã€‚æœ€é‡è¦çš„æ˜¯ï¼Œä½ è¿˜å¯ä»¥å…³æ³¨æŠ€æœ¯åŸå› ï¼Œæ¯”å¦‚ç¡®ä¿å†…å®¹è¢«å‹ç¼©ã€ç¬¬ä¸€ä¸ªå­—èŠ‚çš„æ—¶é—´ã€ä¼˜åŒ–å›¾åƒã€ç¡®ä¿åˆç†çš„ DOM å¤§å°ã€SSL å’Œè®¸å¤šå…¶ä»–æ–¹é¢ã€‚å»ºè®®åœ¨å¼€å‘æœŸé—´ä½¿ç”¨è¿™äº›ä¸°å¯Œçš„ç›‘è§†å™¨ï¼Œä½œä¸º CI çš„ä¸€éƒ¨åˆ†ï¼Œæœ€é‡è¦çš„æ˜¯åœ¨ç”Ÿäº§æœåŠ¡å™¨/CDNä¸Š 24x7 ä½¿ç”¨å®ƒä»¬ã€‚

7.å†™å‡ ä¸ªè·¨è¶Šæ•´ä¸ªç³»ç»Ÿçš„ç«¯åˆ°ç«¯æµ‹è¯•

8.é€šè¿‡å¤ç”¨ç™»é™†å‡­è¯æé€ŸE2Eæµ‹è¯•

åœ¨æ¶‰åŠçœŸå®çš„åç«¯å¹¶ä¾èµ–æœ‰æ•ˆçš„ç”¨æˆ· token è¿›è¡Œ API è°ƒç”¨çš„ E2E æµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬æ²¡æœ‰å¿…è¦å°†æµ‹è¯•æŒ‰ç…§ã€Œåˆ›å»ºç”¨æˆ·å¹¶åœ¨æ¯ä¸ªè¯·æ±‚ä¸­ç™»å½•ã€çš„çº§åˆ«éš”ç¦»ã€‚ç›¸åï¼Œåœ¨æµ‹è¯•æ‰§è¡Œå¼€å§‹ä¹‹å‰åªç™»å½•ä¸€æ¬¡ (å³ before-all hook)ï¼Œå°† token ä¿å­˜åœ¨ä¸€äº›æœ¬åœ°å­˜å‚¨ä¸­ï¼Œå¹¶åœ¨è¯·æ±‚ä¹‹é—´å¤ç”¨å®ƒã€‚è¿™ä¼¼ä¹è¿åäº†æ ¸å¿ƒæµ‹è¯•åŸåˆ™ä¹‹ä¸€â€”â€”ä¿æŒæµ‹è¯•çš„è‡ªæ²»ï¼Œä¸è¦è€¦åˆèµ„æºã€‚è™½ç„¶è¿™æ˜¯ä¸€ä¸ªåˆç†çš„æ‹…å¿§ï¼Œä½†åœ¨ E2E æµ‹è¯•ä¸­ï¼Œæ€§èƒ½æ˜¯ä¸€ä¸ªå…³é”®é—®é¢˜ï¼Œåœ¨æ‰§è¡Œæ¯ä¸ªç”¨ä¾‹ä¹‹å‰åˆ›å»º 1-3 ä¸ª API è¯·æ±‚å¯èƒ½ä¼šå¤§å¤§å¢åŠ æ‰§è¡Œæ—¶é—´ã€‚å¤ç”¨å‡­è¯å¹¶ä¸æ„å‘³ç€æµ‹è¯•å¿…é¡»åŸºäºç›¸åŒçš„ç”¨æˆ·è®°å½•â€”â€”å¦‚æœä¾èµ–äºç”¨æˆ·è®°å½• (ä¾‹å¦‚æµ‹è¯•ç”¨æˆ·ä»˜æ¬¾å†å²è®°å½•)ï¼Œé‚£ä¹ˆè¦ç¡®ä¿ç”Ÿæˆè¿™äº›è®°å½•ä½œä¸ºæµ‹è¯•çš„ä¸€éƒ¨åˆ†ï¼Œå¹¶é¿å…ä¸å…¶ä»–æµ‹è¯•å…±äº«å®ƒä»¬ã€‚è¿˜è¦è®°ä½åç«¯æ˜¯å¯ä»¥ fake çš„â€”â€”å¦‚æœä½ æƒ³é‡ç‚¹æµ‹è¯•å‰ç«¯ï¼Œé‚£ä¹ˆæœ€å¥½éš”ç¦»å®ƒï¼Œç„¶å stub åç«¯ API 

9.åˆ›å»ºä¸€ä¸ªe2eå†’çƒŸæµ‹è¯•ï¼Œä»…ä»…èµ°ä¸€éç½‘ç«™åœ°å›¾

ä¸ºäº†ç›‘æ§ç”Ÿäº§ç¯å¢ƒä»¥åŠå¼€å‘æ—¶çš„å®Œæ•´æ€§æ£€æŸ¥ï¼Œè¿è¡Œä¸€ä¸ª E2E æµ‹è¯•ï¼Œè¯¥æµ‹è¯•è®¿é—®æ‰€æœ‰æˆ–å¤§éƒ¨åˆ†ç«™ç‚¹é¡µé¢å¹¶ç¡®ä¿æ²¡æœ‰è¢«ä¸­æ–­ã€‚è¿™ç§æµ‹è¯•æŠ•èµ„å›æŠ¥ç‡æé«˜ï¼Œå› ä¸ºå®ƒéå¸¸å®¹æ˜“ç¼–å†™å’Œç»´æŠ¤ï¼Œä½†å¯ä»¥æ£€æµ‹ä»»ä½•ç±»å‹çš„æ•…éšœï¼ŒåŒ…æ‹¬åŠŸèƒ½ã€ç½‘ç»œå’Œéƒ¨ç½²é—®é¢˜ã€‚å…¶ä»–ç±»å‹çš„å†’çƒŸå’Œå®Œå¤‡æ€§æ£€æŸ¥å¹¶æ²¡æœ‰é‚£ä¹ˆå¯é å’Œè¯¦å°½â€”â€”ä¸€äº› ops å›¢é˜Ÿåªæ˜¯ ping ä¸»é¡µ (ç”Ÿäº§)ï¼Œæˆ–è€…å¼€å‘äººå‘˜è¿è¡Œä¸€äº›é›†æˆæµ‹è¯•æ— æ³•å‘ç°æ‰“åŒ…å’Œæµè§ˆå™¨é—®é¢˜ã€‚æ¯«æ— ç–‘é—®ï¼ŒçƒŸé›¾æµ‹è¯•ä¸ä¼šå–ä»£åŠŸèƒ½æµ‹è¯•ï¼Œè€Œåªæ˜¯ä½œä¸ºä¸€ä¸ªå¿«é€Ÿçš„çƒŸé›¾æ¢æµ‹å™¨ã€‚

10.å°†æµ‹è¯•ä»¥å®æ—¶åä½œæ–‡æ¡£çš„å½¢å¼å…¬å¼€

é™¤äº†æé«˜åº”ç”¨ç¨‹åºçš„å¯é æ€§ï¼Œæµ‹è¯•è¿˜å¸¦æ¥äº†å¦ä¸€ä¸ªæå…·å¸å¼•åŠ›çš„åœºæ™¯â€”â€”ä½œä¸ºå®æ—¶åº”ç”¨æ–‡æ¡£ã€‚ç”±äºæµ‹è¯•æœ¬è´¨ä¸Šä½¿ç”¨çš„æ˜¯ä¸€ç§æŠ€æœ¯å«é‡è¾ƒä½çš„äº§å“ / UX è¯­è¨€ï¼Œå› æ­¤ä½¿ç”¨æ­£ç¡®çš„å·¥å…·å¯ä»¥å°†ä»–ä»¬ä½œä¸ºä¸€ä¸ªæ²Ÿé€šåª’ä»‹ï¼Œä¾¿æ·åœ°åè°ƒäº†æ‰€æœ‰çš„åŒäº‹â€”â€”å¼€å‘äººå‘˜å’Œä»–ä»¬çš„å®¢æˆ·ã€‚ä¾‹å¦‚ï¼Œä¸€äº›æ¡†æ¶å…è®¸ä½¿ç”¨äººç±»å¯è¯»çš„è¯­è¨€æ¥è¡¨è¾¾æµç¨‹å’ŒæœŸæœ› (å³æµ‹è¯•è®¡åˆ’)ï¼Œè¿™æ ·ä»»ä½•ç›¸å…³äººå‘˜ï¼ŒåŒ…æ‹¬äº§å“ç»ç†ï¼Œéƒ½å¯ä»¥é˜…è¯»ã€æ‰¹å‡†å’Œåä½œæµ‹è¯•ï¼Œè¿™æ—¶æµ‹è¯•å°±æˆä¸ºäº†å®æ—¶çš„éœ€æ±‚æ–‡æ¡£ã€‚è¿™ç§æŠ€æœ¯ä¹Ÿè¢«ç§°ä¸ºâ€œéªŒæ”¶æµ‹è¯•â€ï¼Œå› ä¸ºå®ƒå…è®¸å®¢æˆ·ç”¨ç®€å•çš„è¯­è¨€å®šä¹‰ä»–çš„éªŒæ”¶æ ‡å‡†ã€‚è¿™æ˜¯æœ€çº¯ç²¹çš„ [BDD (è¡Œä¸ºé©±åŠ¨æµ‹è¯•)](https://en.wikipedia.org/wiki/Behavior-driven_development)ã€‚æ”¯æŒæ­¤åŠŸèƒ½çš„æµè¡Œæ¡†æ¶ä¹‹ä¸€æ˜¯ [Cucumber](https://github.com/cucumber/cucumber-js)ï¼Œå®ƒå…·æœ‰ JavaScript é£æ ¼ï¼Œå‚è§ä¸‹é¢çš„ç¤ºä¾‹ã€‚å¦ä¸€ä¸ªç›¸ä¼¼ä½†ä¸åŒçš„åœºæ™¯æ˜¯ [StoryBook](https://storybook.js.org/)ï¼Œå®ƒå¯ä»¥å°† UI ç»„ä»¶å…¬å¼€ä¸ºä¸€ä¸ªå›¾å½¢åŒ–çš„ç›®å½•ï¼Œç”¨æˆ·å¯ä»¥æµè§ˆæ¯ä¸ªç»„ä»¶çš„å„ç§çŠ¶æ€(å¦‚ä¸€ä¸ªæ …æ ¼ç»„ä»¶çš„ w/o filterï¼Œä½¿å…¶æ¸²æŸ“å¤šè¡Œæˆ–è€… 0 è¡Œï¼Œç­‰ç­‰)ï¼ŒæŸ¥çœ‹å®ƒçš„å±•ç¤ºå½¢å¼ï¼Œä»¥åŠå¦‚ä½•è§¦å‘çŠ¶æ€â€”â€”è¿™ä¹Ÿå¯ä»¥æä¾›ç»™äº§å“äººå‘˜ï¼Œä½†ä¸»è¦æ˜¯ä½œä¸ºå®æ—¶æ–‡æ¡£æä¾›ç»™æ¶ˆè´¹è¿™äº›ç»„ä»¶çš„å¼€å‘äººå‘˜ã€‚

11.ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·æ£€æµ‹å¯è§†åŒ–é—®é¢˜

è®¾ç½®è‡ªåŠ¨åŒ–å·¥å…·æ¥æŠ“å– UI æˆªå±ï¼Œå¹¶åœ¨å˜æ›´åæ£€æµ‹å†…å®¹é‡å æˆ–ä¸­æ–­ç­‰å¯è§†åŒ–é—®é¢˜ã€‚è¿™æ ·ä¸ä»…å¯ä»¥ç¡®ä¿æ•°æ®çš„æ­£ç¡®æ€§ï¼Œè€Œä¸”ç”¨æˆ·å¯ä»¥æ–¹ä¾¿åœ°çœ‹åˆ°å®ƒã€‚è¿™ç§æŠ€æœ¯æ²¡æœ‰è¢«å¹¿æ³›é‡‡ç”¨ï¼Œæˆ‘ä»¬çš„æµ‹è¯•æ€ç»´æ›´å€¾å‘äºåŠŸèƒ½æµ‹è¯•ï¼Œä½†å®ƒä»£è¡¨äº†çœŸå®çš„ç”¨æˆ·ä½“éªŒï¼Œè€Œä¸”å¯ä»¥è½»æ˜“åœ°å‘ç°è·¨å¤šè®¾å¤‡ç±»å‹çš„ UI bugã€‚ç›®å‰éƒ¨åˆ†å…è´¹å·¥å…·å¯ä»¥æä¾›ä¸€äº›åŸºç¡€åŠŸèƒ½â€”â€”ç”Ÿæˆå’Œä¿å­˜å±å¹•æˆªå›¾ä»¥ä¾›è‚‰çœ¼æ£€æŸ¥ã€‚è™½ç„¶è¿™ç§æ–¹æ³•å¯¹äºå°åº”ç”¨æ¥è¯´å¯èƒ½å·²ç»è¶³å¤Ÿäº†ï¼Œä½†æ˜¯å®ƒçš„ç¼ºé™·ä¸ä»»ä½•å…¶ä»–æ‰‹åŠ¨æµ‹è¯•ä¸€æ ·
ä»»ä½•å˜æ›´åéƒ½éœ€è¦è€—è´¹äººåŠ›æ¥å¤„ç†ã€‚å¦ä¸€æ–¹é¢ï¼Œç”±äºç¼ºä¹æ¸…æ™°çš„å®šä¹‰ï¼Œè‡ªåŠ¨æ£€æµ‹ UI é—®é¢˜éå¸¸å…·æœ‰æŒ‘æˆ˜æ€§â€”â€”è¿™å°±æ˜¯â€œè§†è§‰å›å½’â€é¢†åŸŸè§£å†³è¿™ä¸ªéš¾é¢˜çš„åˆ‡å…¥ç‚¹ï¼šå¯¹æ¯”æ—§ UI ä¸æœ€æ–°çš„æ›´æ”¹å¹¶æ£€æµ‹å·®å¼‚ã€‚ä¸€äº›å¼€æº/å…è´¹çš„å·¥å…·å¯ä»¥æä¾›è¿™ä¸ªèƒ½åŠ› (ä¾‹å¦‚: [wraith](https://github.com/BBC-News/wraith)ã€PhantomCSS) ä½†å¯èƒ½å®‰è£…è€—æ—¶æ¯”è¾ƒä¹…ã€‚ä¸€äº›å•†ä¸šå·¥å…· (å¦‚  [Applitools](https://applitools.com/)ã€[Percy.io](https://percy.io/)) åˆ™æ›´è¿›ä¸€æ­¥ï¼Œå®ƒä»¬ç®€åŒ–äº†å®‰è£…è¿‡ç¨‹ï¼Œå¹¶å°è£…äº†é«˜çº§ç‰¹æ€§ï¼Œå¦‚ç®¡ç† UIã€å‘Šè­¦ã€é€šè¿‡å»é™¤â€œè§†è§‰å™ªéŸ³â€(å¦‚å¹¿å‘Šã€åŠ¨ç”») è¿›è¡Œæ™ºèƒ½æ•è·ï¼Œç”šè‡³å¯ä»¥åˆ†æå¼•å‘é—®é¢˜çš„ DOM/css å˜åŒ–çš„æ ¹æœ¬åŸå› ã€‚



#### åç«¯æµ‹è¯•

1.ä¸°å¯Œä½ çš„æµ‹è¯•ç»„åˆï¼šä¸å±€é™äºå•å…ƒæµ‹è¯•å’Œæµ‹è¯•é‡‘å­—å¡”

[æµ‹è¯•é‡‘å­—å¡”](https://martinfowler.com/bliki/TestPyramid.html)ï¼Œè™½ç„¶å·²ç»æœ‰è¶…è¿‡ 10 å¹´çš„å†å²äº†ï¼Œä½†æ˜¯å®ƒä»æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ç›¸å…³æ¨¡å‹ï¼Œå®ƒæå‡ºäº†ä¸‰ç§æµ‹è¯•ç±»å‹ï¼Œå¹¶ä¸”å½±å“äº†å¤§å¤šæ•°å¼€å‘äººå‘˜çš„æµ‹è¯•ç­–ç•¥ã€‚ä¸æ­¤åŒæ—¶ï¼Œå¤§é‡é—ªäº®çš„æ–°æµ‹è¯•æŠ€æœ¯å‡ºç°äº†ï¼Œå¹¶éšè—åœ¨æµ‹è¯•é‡‘å­—å¡”çš„é˜´å½±ä¸‹ã€‚è€ƒè™‘åˆ°è¿‘ 10 å¹´æ¥æˆ‘ä»¬æ‰€çœ‹åˆ°çš„æ‰€æœ‰å·¨å˜(å¾®æœåŠ¡ã€äº‘ã€æ— æœåŠ¡å™¨)ï¼Œè¿™ä¸ªéå¸¸è€çš„æ¨¡å‹æ˜¯å¦ä»èƒ½é€‚ç”¨äºæ‰€æœ‰ç±»å‹çš„åº”ç”¨ï¼Ÿæµ‹è¯•ç•Œä¸åº”è¯¥è€ƒè™‘æ¬¢è¿æ–°çš„æµ‹è¯•æŠ€æœ¯å—ï¼Ÿ

è¯·ä¸è¦è¯¯è§£ï¼Œåœ¨ 2019 å¹´ï¼Œæµ‹è¯•é‡‘å­—å¡”ã€TDDã€å•æµ‹ä»ç„¶æ˜¯å¼ºå¤§çš„æŠ€æœ¯ï¼Œä¸”å¯¹äºå¤§å¤šæ•°åº”ç”¨ä»æ˜¯æœ€ä½³é€‰æ‹©ã€‚ä½†æ˜¯åƒå…¶ä»–æ¨¡å‹ä¸€æ ·ï¼Œå°½ç®¡å®ƒæœ‰ç”¨ï¼Œä½†æ˜¯ä¸€å®šä¼šåœ¨[æŸäº›æ—¶å€™å‡ºé—®é¢˜](https://en.wikipedia.org/wiki/All_models_are_wrong)ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª IOT åº”ç”¨ï¼Œå°†è®¸å¤šäº‹ä»¶æ³¨å…¥ä¸€ä¸ª Kafka/RabbitMQ è¿™æ ·çš„æ¶ˆæ¯æ€»çº¿ä¸­ï¼Œç„¶åè¿™äº›äº‹ä»¶æµå…¥ä¸€äº›æ•°æ®ä»“åº“å¹¶è¢«åˆ†æ UI æŸ¥è¯¢ã€‚æˆ‘ä»¬çœŸçš„éœ€è¦èŠ±è´¹ 50% çš„æµ‹è¯•é¢„ç®—å»ä¸ºè¿™ä¸ªå‡ ä¹æ²¡æœ‰é€»è¾‘çš„é›†æˆä¸­å¿ƒåŒ–çš„åº”ç”¨å†™å•æµ‹å—ï¼Ÿéšç€åº”ç”¨ç±»å‹(æœºå™¨äººã€å¯†ç ã€Alexa-skills)çš„å¤šæ ·æ€§å¢é•¿ï¼Œæµ‹è¯•é‡‘å­—å¡”å¯èƒ½å°†ä¸å†æ˜¯æŸäº›åœºæ™¯çš„æœ€ä½³é€‰æ‹©äº†ã€‚

æ˜¯æ—¶å€™ä¸°å¯Œä½ çš„æµ‹è¯•ç»„åˆå¹¶äº†è§£æ›´å¤šçš„æµ‹è¯•ç±»å‹äº†ï¼ˆä¸‹ä¸€èŠ‚ä¼šç»™ä½ ä¸€äº›å°å»ºè®®ï¼‰ï¼Œè¿™äº›ç±»ä¼¼äºæµ‹è¯•é‡‘å­—å¡”çš„æ€ç»´æ¨¡å‹ä¸ä½ æ‰€é¢ä¸´çš„ç°å®é—®é¢˜æ›´åŒ¹é…ï¼ˆ'å˜¿ï¼Œæˆ‘ä»¬çš„API æŒ‚äº†ï¼Œè¯•è¯•æ¶ˆè´¹è€…é©±åŠ¨çš„åˆåŒæµ‹è¯•ï¼'ï¼‰ï¼Œè®©æ‚¨çš„æµ‹è¯•å¤šæ ·åŒ–ï¼Œæ¯”å¦‚å»ºç«‹åŸºäºé£é™©åˆ†æçš„æ£€æŸ¥æ¨¡å‹ â€”â€” è¯„ä¼°å¯èƒ½å‡ºç°é—®é¢˜çš„ä½ç½®ï¼Œå¹¶æä¾›ä¸€äº›é¢„é˜²æªæ–½ä»¥å‡è½»è¿™äº›æ½œåœ¨é£é™©ã€‚

éœ€è¦æ³¨æ„çš„æ˜¯ï¼šè½¯ä»¶ä¸–ç•Œä¸­çš„ TDD æ¨¡å‹é¢ä¸´ä¸¤ä¸ªæç«¯çš„æ€åº¦ï¼Œä¸€äº›äººé¼“å¹åˆ°å¤„ä½¿ç”¨å®ƒï¼Œå¦ä¸€äº›äººåˆ™è®¤ä¸ºå®ƒæ˜¯é­”é¬¼ã€‚ æ¯ä¸ªè¯´ç»å¯¹çš„äººéƒ½æ˜¯é”™çš„ :]

å¦åˆ™ä½ å°†é”™è¿‡ä¸€äº›è¶…é«˜æŠ•å…¥äº§å‡ºæ¯”çš„å·¥å…·ï¼Œæ¯”å¦‚ Fuzzã€lintã€mutation è¿™äº›å·¥å…·åªéœ€ 10 åˆ†é’Ÿé…ç½®å°±èƒ½è´¡çŒ®ä»·å€¼ã€‚

ä¸è¦å†™å…¨å±€çš„ fixtures å’Œ seedsï¼Œè€Œæ˜¯æ”¾åœ¨æ¯ä¸ªæµ‹è¯•ä¸­

å‚ç…§é»„é‡‘æ³•åˆ™ï¼Œæ¯æ¡æµ‹è¯•éœ€è¦åœ¨å®ƒè‡ªå·±çš„ DB è¡Œä¸­è¿è¡Œé¿å…äº’ç›¸æ±¡æŸ“ã€‚ç°å®ä¸­ï¼Œè¿™æ¡è§„åˆ™ç»å¸¸è¢«æ‰“ç ´ï¼šä¸ºäº†æ€§èƒ½æå‡è€Œåœ¨æ‰§è¡Œæµ‹è¯•å‰å…¨å±€åˆå§‹åŒ–æ•°æ®åº“([ä¹Ÿè¢«ç§°ä¸ºâ€˜test fixtureâ€™](https://en.wikipedia.org/wiki/Test_fixture))ã€‚å°½ç®¡æ€§èƒ½å¾ˆé‡è¦ï¼Œä½†æ˜¯å®ƒå¯ä»¥é€šè¿‡åé¢è®²çš„ã€Œåˆ†ç»„ä»¶æµ‹è¯•ã€ç¼“å’Œã€‚ä¸ºäº†å‡è½»å¤æ‚åº¦ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ¯ä¸ªæµ‹è¯•ä¸­åªåˆå§‹åŒ–è‡ªå·±éœ€è¦çš„æ•°æ®ã€‚é™¤éæ€§èƒ½é—®é¢˜çœŸçš„éå¸¸æ˜¾è‘—ï¼Œé‚£ä¹ˆå¯ä»¥åšä¸€å®šçš„å¦¥åâ€”â€”ä»…åœ¨å…¨å±€æ”¾ä¸ä¼šæ”¹å˜çš„æ•°æ®ï¼ˆæ¯”å¦‚ queryï¼‰ã€‚

å¦åˆ™ä¸€éƒ¨åˆ†æµ‹è¯•æŒ‚äº†ï¼Œæˆ‘ä»¬çš„å›¢é˜ŸèŠ±è´¹å¤§é‡å®è´µæ—¶é—´åå‘ç°ï¼Œæ˜¯ç”±äºä¸¤ä¸ªæµ‹è¯•åŒæ—¶æ”¹å˜äº†åŒä¸€ä¸ª seed æ•°æ®å¯¼è‡´çš„ã€‚

## Mocha

å®‰è£…

```shell
npm install mocha --save-dev
```

ä½¿ç”¨

```javascript
const add = require("./add");
const assert = require("assert");

// describeï¼šå®šä¹‰ä¸€ç»„æµ‹è¯•
describe("åŠ æ³•å‡½æ•°æµ‹è¯•", function() {
    before(function() {
        // runs before all tests in this block
    });
    
    // it: å®šä¹‰ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹
    it("1 åŠ  1 åº”è¯¥ç­‰äº 2", function() {
        // assert: nodejså†…ç½®æ–­è¨€æ¨¡å—
        assert.equal(add(1, 1), 2);
    });
    
    after(function() {
        // runs after all test in this block
    });
});
```

æ–­è¨€åº“

Mocha æ”¯æŒ`should.js`, `chai`, `expect.js`, `better-assert`, `unexpected`ç­‰æ–­è¨€åº“

```javascript
//assert
assert.ok(add(1, 1));
assert.equal(add(1, 1), 2);
//shouldjs
(add(1, 1)).should.be.a.Number();
(add(1, 1)).should.equal(2);
//expectjs
expect(add(1, 1)).to.be.a("number");
expect(add(1, 1)).to.equal(2);
//chaiæ”¯æŒshould, expect, assertä¸‰ç§è¯­æ³•
```

`should.js`å’Œ`expect.js`ç›¸è¾ƒäº`assert`è¯­ä¹‰æ€§æ›´å¼ºï¼Œä¸”æ”¯æŒç±»å‹æ£€æµ‹ï¼Œè€Œ`should.js`åœ¨è¯­æ³•ä¸Šæ›´åŠ ç®€æ˜ï¼ŒåŒæ—¶æ”¯æŒé“¾å¼è¯­æ³•`.and`ã€‚

- chai.jsæ–­è¨€åº“ï¼šæ¥å£ä¸°å¯Œï¼Œæ–‡æ¡£é½å…¨ï¼Œå¯ä»¥å¯¹å„ç§æ¥å£è¿›è¡Œæ–­è¨€ã€‚
- expect åº“åº”ç”¨æ˜¯éå¸¸å¹¿æ³›ï¼Œæ‹¥æœ‰å¾ˆå¥½çš„é“¾å¼ç»“æ„å’Œä»¿è‡ªç„¶è¯­è¨€çš„æ–¹æ³•ã€‚
- é€šå¸¸å†™åŒä¸€ä¸ªæ–­è¨€ä¼šæœ‰å‡ ä¸ªæ–¹æ³•ï¼Œæ¯”å¦‚ï¼šexpect(response).to.be(true) å’Œ expect(response).equal(true)ã€‚

expectå’Œshouldæ˜¯BDDé£æ ¼çš„ï¼ŒäºŒè€…ä½¿ç”¨ç›¸åŒçš„é“¾å¼è¯­è¨€æ¥ç»„ç»‡æ–­è¨€ï¼Œä½†ä¸åŒåœ¨äºä»–ä»¬åˆå§‹åŒ–æ–­è¨€çš„æ–¹å¼ï¼šexpectä½¿ç”¨æ„é€ å‡½æ•°æ¥åˆ›å»ºæ–­è¨€å¯¹è±¡å®ä¾‹ï¼Œè€Œshouldé€šè¿‡ä¸ºObject.prototypeæ–°å¢æ–¹æ³•æ¥å®ç°æ–­è¨€ï¼ˆæ‰€ä»¥shouldä¸æ”¯æŒIEï¼‰ï¼›expectç›´æ¥æŒ‡å‘chai.expectï¼Œè€Œshouldåˆ™æ˜¯chai.should()ã€‚

expectæ–­è¨€é£æ ¼

- ok ï¼šæ£€æŸ¥æ˜¯å¦ä¸ºçœŸ
- trueï¼šæ£€æŸ¥å¯¹è±¡æ˜¯å¦ä¸ºçœŸ
- to.beã€toï¼šä½œä¸ºè¿æ¥ä¸¤ä¸ªæ–¹æ³•çš„é“¾å¼æ–¹æ³•
- notï¼šé“¾æ¥ä¸€ä¸ªå¦å®šçš„æ–­è¨€ï¼Œå¦‚ expect(false).not.to.be(true)
- a/anï¼šæ£€æŸ¥ç±»å‹ï¼ˆä¹Ÿé€‚ç”¨äºæ•°ç»„ç±»å‹ï¼‰
- include/containï¼šæ£€æŸ¥æ•°ç»„æˆ–å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ 
- below/aboveï¼šæ£€æŸ¥æ˜¯å¦å¤§äºæˆ–è€…å°äºæŸä¸ªé™å®šå€¼

asserté£æ ¼æ˜¯ä¸‰ç§æ–­è¨€é£æ ¼ä¸­å”¯ä¸€ä¸æ”¯æŒé“¾å¼è°ƒç”¨çš„ï¼ŒChaiæä¾›çš„asserté£æ ¼çš„æ–­è¨€å’Œnode.jsåŒ…å«çš„assertæ¨¡å—éå¸¸ç›¸ä¼¼ã€‚

Mocha æ”¯æŒ4ç§ hookï¼ŒåŒ…æ‹¬`before / after / beforeEach / afterEach`ã€‚

Mocha é»˜è®¤æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹æ‰§è¡Œ2000msï¼Œè¶…å‡ºæ—¶é•¿åˆ™æŠ¥é”™ï¼Œæ‰€ä»¥åœ¨æµ‹è¯•ä»£ç ä¸­å¦‚æœæœ‰å¼‚æ­¥æ“ä½œï¼Œåˆ™éœ€è¦é€šè¿‡`done`å‡½æ•°æ¥æ˜ç¡®æµ‹è¯•ç”¨ä¾‹ç»“æŸã€‚`done`æ¥å—`Error`å‚æ•°ã€‚

Mocha åœ¨nodeç¯å¢ƒä¸‹è¿è¡Œæ—¶ï¼Œä¸æ”¯æŒ BOM å’Œ DOM æ¥å£ï¼Œéœ€è¦å¼•å…¥`jsdom`å’Œ`jsdom-global`åº“ã€‚

Mochaå‘½ä»¤è¡ŒåŸºæœ¬ç”¨æ³•ï¼š

- mochaï¼šé»˜è®¤è¿è¡Œtestå­ç›®å½•é‡Œé¢çš„æµ‹è¯•è„šæœ¬ï¼Œä¸åŒ…æ‹¬å­æ–‡ä»¶
- mocha add.test.jsï¼šå½“å‰ç›®å½•ä¸‹é¢çš„è¯¥æµ‹è¯•è„šæœ¬ã€‚
- mocha file1 file2 file3 ï¼š mochaå‘½ä»¤åé¢ç´§è·Ÿæµ‹è¯•è„šæœ¬çš„è·¯å¾„å’Œæ–‡ä»¶åï¼Œå¯ä»¥æŒ‡å®šå¤šä¸ªæµ‹è¯•ç”¨ä¾‹ã€‚

é€šé…ç¬¦ï¼š

- mocha spec/{my,awesome}.js
- mocha test/unit/*.js

ç”Ÿæˆæ ¼å¼

- mocha â€“reporter specï¼šé»˜è®¤ä¸ºspecæ ¼å¼ï¼Œå¯è®¾ç½®å…¶ä»–æ ¼å¼ã€‚
- mocha â€“recursive -R markdown > spec.md ã€‚

ç½‘é¡µæŸ¥çœ‹

npm install â€“save-dev mochawesome

åœ¨gulpä¸­è¿è¡Œmocha

å®‰è£…gulp-mochaæ’ä»¶

```shell
npm install gulp-mocha --save-dev
```

gulpfile

```gulpfile
gulp.task('mocha',function() {
	return 
})
```



## Jasmine

Jasmine æ˜¯ä¸€ä¸ªåŠŸèƒ½å…¨é¢çš„æµ‹è¯•æ¡†æ¶ï¼Œå†…ç½®æ–­è¨€`expect`ï¼›ä½†æ˜¯æœ‰å…¨å±€å£°æ˜ï¼Œä¸”éœ€è¦é…ç½®ï¼Œç›¸å¯¹æ¥è¯´ä½¿ç”¨æ›´å¤æ‚ã€ä¸å¤Ÿçµæ´»ã€‚

```shell
npm install jasmine --save-dev
```

Jasmine çš„è¯­æ³•ä¸ Mocha éå¸¸ç›¸ä¼¼ï¼Œä¸è¿‡æ–­è¨€é‡‡ç”¨å†…ç½®çš„`expect()`ã€‚



## Jest

Jest æ˜¯ä¸€ä¸ªåŠŸèƒ½å…¨é¢çš„â€œé›¶é…ç½®â€æµ‹è¯•æ¡†æ¶ï¼Œæ—¢é›†æˆäº†å„ç§å·¥å…·ï¼Œä¸”æ— éœ€é…ç½®å³å¯ä½¿ç”¨ã€‚

```shell
npm install --save-dev jest
```

Jest ä¸­ä»¥`test`å®šä¹‰ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œä¸”è‡ªå¸¦æ–­è¨€`expect`ï¼Œæ–­è¨€åº“åŠŸèƒ½å¼ºå¤§ï¼Œä½†è¯­æ³•ç›¸è¾ƒäº`should.js`æ¥è¯´æ›´å¤æ‚ã€‚

æ™®é€šåŒ¹é…ï¼š`toBe`, `not.toBe`

ç©ºåŒ¹é…ï¼š`toBeNull`, `toBeUndefined`, `toBeDefine`, `toBeTruthy`, `toBeFalsy`

æ•°å­—å¤§å°ï¼š`toBeGreaterThan`, `toBeGreaterThanOrEqual`, `toBeLessThan`, `toEqual`, `toBeCloseTo`(ç”¨äºæµ®ç‚¹æ•°)

æ­£åˆ™åŒ¹é…ï¼š`toMatch`

æ•°ç»„æŸ¥è¯¢ï¼š`toContain`

æ„é€ åŒ¹é…ï¼š`toEqual(expect.any(constructor))`

Jest åŒæ ·æœ‰å››ä¸ªhookï¼Œ`beforeAll/beforeEach/afterAll/afterEach`

Jest å†…ç½®å¯¹ DOM å’Œ BOM æ¥å£çš„æ”¯æŒã€‚

Jest å†…ç½®è¦†ç›–ç»Ÿè®¡ï¼Œä¸ºäº†æ›´æ–¹ä¾¿åœ°è¿›è¡Œç›¸å…³é…ç½®ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶`jest.config.js`

ç„¶åå°†`package.json`ä¸­çš„å‘½åä¿®æ”¹ä¸€ä¸‹ï¼š`"test-jest": "jest"`

jestæ•™ç¨‹ï¼šhttp://github.yanhaixiang.com/jest-tutorial/#%E6%B5%8B%E8%AF%95%E9%9A%BE%E7%82%B9

å†™æµ‹è¯•çš„éš¾ç‚¹åœ¨äºï¼š

**ä¸ä¼šé…ç½®ã€‚** Jest çš„ä¸Šæ‰‹æ–‡æ¡£éå¸¸ç®€å•ï¼Œç”šè‡³ä¸éœ€è¦é…ç½®ã€‚ä½†çœŸå®æƒ…å†µæ˜¯åªè¦ä¸€ä¸ªé…ç½®æ²¡é…å¥½ï¼Œæ‰€æœ‰æµ‹è¯•éƒ½è·‘ä¸èµ·æ¥ã€‚æµ‹è¯•ä¸åƒå¼€å‘ï¼Œä»£ç æœ‰é—®é¢˜å¯ä»¥æ…¢æ…¢è°ƒã€‚ æµ‹è¯•æ˜¯ä¸€ä¸ª 0 - 1 æ¸¸æˆï¼Œä¸æ˜¯æˆåŠŸå°±æ˜¯å¤±è´¥ï¼ŒæŒ«è´¥æ„Ÿéå¸¸å¼ºã€‚

**ä¸çŸ¥é“è¦æ€ä¹ˆ Mockã€‚** è¿™ä¸ªç»å¯¹æ˜¯ç»å…¸ä¸­çš„ç»å…¸ã€‚è™½ç„¶å®˜æ–¹æ–‡æ¡£æœ‰æ•™ç¨‹ï¼Œä½†æ˜¯çœŸå®çš„ä¸šåŠ¡å¾€å¾€ä¸æ˜¯é‚£ä¹ˆç†æƒ³ï¼Œè¿œæ¯”æ–‡æ¡£è¦å¤æ‚çš„å¤šã€‚

**ä¸ä¼šæ„é€ æµ‹è¯•ç”¨ä¾‹ã€‚** åˆšæ¥è§¦æµ‹è¯•æ—¶ï¼Œå¾ˆå®¹æ˜“æŠŠåšä¸šåŠ¡é‚£å¥— â€œå®ç° XXX åŠŸèƒ½â€ çš„æƒ³æ³•ä»£å…¥æµ‹è¯•ã€‚ä½†æµ‹è¯•çš„é‡ç‚¹ä¸åœ¨äºå®ç°åŠŸèƒ½ï¼Œè€Œæ˜¯æ„é€ ç”¨ä¾‹ã€‚

**æ²¡æœ‰æµ‹è¯•ç­–ç•¥ã€‚** ä¸Šé¢æ˜¯ â€œæŠ€â€ çš„éš¾ç‚¹ï¼Œæµ‹è¯•è¿˜æœ‰ â€œæœ¯â€ çš„éš¾ç‚¹ã€‚é—·ç€å¤´ä¸€é€šè‚æµ‹è¯•ä»£ç å¹¶ä¸é«˜æ•ˆï¼Œä½¿ç”¨åˆé€‚çš„æµ‹è¯•ç­–ç•¥è¿œæ¯”å†™ 10 ä¸ªæµ‹è¯•ç”¨ä¾‹é‡è¦ã€‚

**å¥½çš„æµ‹è¯•ä¼šè®©ä½ è·å¾—å¾ˆé«˜çš„ä»£ç ä¿¡å¿ƒï¼Œè€Œä¸å¥½çš„æµ‹è¯•åˆ™ä¼šä¸¥é‡æ‹–å®é¡¹ç›®å¼€å‘ã€‚æ‰€ä»¥ï¼Œå¤§å®¶æ‰€åŒæ¶çš„ä¸åº”è¯¥æ˜¯æµ‹è¯•æœ¬èº«ï¼Œè€Œæ˜¯é‚£äº›ç»´æŠ¤æ€§å·®çš„æµ‹è¯•ã€‚**



### æµ‹è¯•ç¯å¢ƒ

åœ¨å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬å‰ç«¯çš„ä»£ç å¾€å¾€åªåœ¨æµè§ˆå™¨é‡Œè¿è¡Œï¼Œç»å¸¸è¦ç”¨åˆ°æµè§ˆå™¨çš„ APIã€‚ç”±äº Jest çš„æµ‹è¯•æ–‡ä»¶ä¹Ÿæ˜¯ Node.js ç¯å¢ƒä¸‹æ‰§è¡Œçš„ï¼Œ`jest` æä¾›äº† `testEnvironment` é…ç½®ï¼Œæ·»åŠ  `jsdom` æµ‹è¯•ç¯å¢ƒåï¼Œå…¨å±€ä¼šè‡ªåŠ¨æ‹¥æœ‰å®Œæ•´çš„æµè§ˆå™¨æ ‡å‡† APIã€‚**åŸç†æ˜¯ä½¿ç”¨äº† [jsdom (opens new window)](https://github.com/jsdom/jsdom)ã€‚ è¿™ä¸ªåº“ç”¨ JS å®ç°äº†ä¸€å¥— Node.js ç¯å¢ƒä¸‹çš„ Web æ ‡å‡† APIã€‚** 

```javascript
module.exports = {
  testEnvironment: "jsdom",
}
```

### mock

jest é‡Œæœ‰ä¸¤ç§ mockï¼Œä¸€ç§æ˜¯æ–¹æ³•çš„ mockï¼Œè¿˜æœ‰ä¸€ç§æ˜¯æ¨¡å—çš„ mock

å¦‚æœè¦mock nodejsé‡Œçš„fsæ¨¡å—ï¼Œå°±å¦‚ä¸‹å†™å‡º

```javascript
const fs = require('fs');
 
jest.mock('fs');
 
console.log(fs.statSync('/tmp/file'));
```

jest åœ¨æ‰§è¡Œè¿™ä¸ªæ–‡ä»¶çš„æ—¶å€™ï¼Œé¦–å…ˆä¼šå¯¹ä»£ç è¿›è¡Œè½¬æ¢ï¼Œè½¬æ¢åˆ†æˆä¸¤æ­¥ã€‚

ç¬¬ä¸€æ­¥æ˜¯æå‡ `jest.mock('fs')`ï¼Œè®©å®ƒèƒ½ä½œç”¨åœ¨ `require` ä¹‹å‰ï¼Œè½¬æ¢åçš„ä»£ç å¦‚ä¸‹

```javascript
jest.mock('fs');
 
const fs = require('fs');
 
jest.mock('fs');
 
console.log(fs.statSync('/tmp/file'));
```

ç¬¬äºŒéƒ¨æ˜¯åŒ…ä¸€å±‚åŒ¿åæ–¹æ³•ï¼Œè¿™ä¸€æ­¥è·Ÿ node çš„æ¨¡å—å®ç°ç±»ä¼¼

```javascript
(function(module, exports, require, __dirname, __filename, global, jest){
  jest.mock('fs');
 
  const fs = require('fs');
 
  console.log(fs.statSync('/tmp/file'));
}))
```

ä»£ç è½¬æ¢å®Œåï¼Œjest éœ€è¦æ³¨å…¥è‡ªå·±çš„ require å®ç°ï¼Œè¿™ä¸ªä¸€æ­¥é€šè¿‡è®©è½¬æ¢åçš„ä»£ç åœ¨ vm æ¨¡å—åˆ›å»ºçš„æ–°çš„ä¸Šä¸‹æ–‡é‡Œæ‰§è¡Œï¼Œæœ€ç»ˆç”Ÿæˆä¸€ä¸ªå¯ä»¥æ‰§è¡Œçš„åŒ¿åæ–¹æ³•å®ç°ã€‚

```javascript
const vm = require('vm');
 
const code = 'è½¬æ¢åçš„ä»£ç ';
 
const script = new vm.Script(code);
 
const result = script.runInContext(context); // describe, it ç­‰å…¨å±€æ–¹æ³•åœ¨è¿™é‡Œæ³¨å…¥
 
result.call(
  module,
  exports,
  require, // jest è‡ªå·±çš„ require å®ç°ï¼Œ
  ...
)ï¼›
```

### Match

ä»£ç ä¸­çš„ `undefined`, `null`, and `false` æœ‰ä¸åŒå«ä¹‰ï¼Œè‹¥ä½ åœ¨æµ‹è¯•æ—¶ä¸æƒ³åŒºåˆ†ä»–ä»¬ï¼Œå¯ä»¥ç”¨çœŸå€¼åˆ¤æ–­ã€‚ Jest æä¾› helpers ä¾›ä½ ä½¿ç”¨

```javascript
// nullã€undefinedã€çœŸå€¼ã€å‡å€¼
test('null', () => {
  const n = null;
  expect(n).toBeNull();
  expect(n).toBeDefined();
  expect(n).not.toBeUndefined();
  expect(n).not.toBeTruthy();
  expect(n).toBeFalsy();
});

test('zero', () => {
  const z = 0;
  expect(z).not.toBeNull();
  expect(z).toBeDefined();
  expect(z).not.toBeUndefined();
  expect(z).not.toBeTruthy();
  expect(z).toBeFalsy();
});

// æ•°å€¼
test('two plus two', () => {
  const value = 2 + 2;
  expect(value).toBeGreaterThan(3);
  expect(value).toBeGreaterThanOrEqual(3.5);
  expect(value).toBeLessThan(5);
  expect(value).toBeLessThanOrEqual(4.5);

  // toBe and toEqual are equivalent for numbers
  expect(value).toBe(4);
  expect(value).toEqual(4);
});

// å­—ç¬¦ä¸²
test('there is no I in team', () => {
  expect('team').not.toMatch(/I/);
});

test('but there is a "stop" in Christoph', () => {
  expect('Christoph').toMatch(/stop/);
});

// æ•°ç»„
const shoppingList = [
  'diapers',
  'kleenex',
  'trash bags',
  'paper towels',
  'milk',
];

test('shoppingListæ•°ç»„ä¸­åŒ…å«milk', () => {
  expect(shoppingList).toContain('milk');
  expect(new Set(shoppingList)).toContain('milk');
});
```



### æ”¯æŒts

#### ts-jest

å®‰è£…jestçš„tsè½¬è¯‘å™¨

```javascript
npm i -D ts-jest@27.1.4
```

åœ¨ `jest.config.js` é‡Œæ·»åŠ ä¸€è¡Œé…ç½®

```javascript
module.exports = {
  preset: 'ts-jest',
  // ...
};
```

åœ¨å®‰è£…jestçš„ç±»å‹æ–‡ä»¶

```shell
npm i -D @types/jest@27.4.1
```

ç„¶ååœ¨ `tsconfig.json` é‡ŒåŠ ä¸Š `jest` å’Œ `node` ç±»å‹å£°æ˜ï¼š

```javascript
{
  "compilerOptions": {
    "types": ["node", "jest"]
  }
}
```

ä¹Ÿå¯ä»¥é€‰æ‹©ä½¿ç”¨ `babel-jest` æ¥åšè½¬è¯‘,ä¸è¿‡Babel åšè½¬è¯‘çš„ **ç¼ºç‚¹æ˜¯æ— æ³•è®© Jest åœ¨è¿è¡Œæ—¶åšç±»å‹æ£€æŸ¥**ï¼Œæ‰€ä»¥æ›´æ¨èå¤§å®¶ä½¿ç”¨ `ts-jest`ï¼Œåˆ©ç”¨ `tsc` æ¥è½¬è¯‘ TypeScriptã€‚

### React

æµ‹è¯•reactéœ€è¦å¼•å…¥testing-library/reactåº“

```shell
npm i -D @testing-library/react@12.1.4
```

ä¹Ÿå¯ä»¥ä½¿ç”¨å¦ä¸€ä¸ªåº“ react-test-renderer

```shell
npm i -D react-test-renderer
```



#### å¿«ç…§æµ‹è¯•

ç»„ä»¶æ˜¯æœ‰ HTML ç»“æ„çš„ã€‚ å¦‚æœä¸å¯¹æ¯”ä¸€ä¸‹ HTML ç»“æ„ï¼Œå¾ˆéš¾è¯´æœè‡ªå·±ç»„ä»¶æ²¡é—®é¢˜ã€‚ä½†æ˜¯è¿™å°±å¼•æ¥äº†ä¸€ä¸ªé—®é¢˜äº†ï¼š**è¦æ€ä¹ˆå¯¹æ¯” HTML ç»“æ„ï¼Ÿ**

æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯æŠŠè¿™ä¸ªç»„ä»¶çš„ `HTML` æ‰“å°å‡ºæ¥ï¼Œæ‹·è´åˆ°ä¸€ä¸ª `xxx.txt` æ–‡ä»¶é‡Œï¼Œç„¶ååœ¨ä¸‹æ¬¡è·‘ç”¨ä¾‹æ—¶ï¼ŒæŠŠå½“å‰ç»„ä»¶çš„ `HTML` å­—ç¬¦ä¸²å’Œ `xxx.txt` æ–‡ä»¶é‡Œçš„å†…å®¹å¯¹æ¯”ä¸€ä¸‹å°±çŸ¥é“å“ªé‡Œæœ‰è¢«ä¿®æ”¹è¿‡ã€‚ **è¿™å°±æ˜¯å¿«ç…§æµ‹è¯•çš„åŸºæœ¬ç†å¿µï¼Œå³ï¼šå…ˆä¿å­˜ä¸€ä»½å‰¯æœ¬æ–‡ä»¶ï¼Œä¸‹æ¬¡æµ‹è¯•æ—¶æŠŠå½“å‰è¾“å‡ºå’Œä¸Šæ¬¡å‰¯æœ¬æ–‡ä»¶å¯¹æ¯”å°±çŸ¥é“æ­¤æ¬¡é‡æ„æ˜¯å¦ç ´åäº†æŸäº›ä¸œè¥¿ã€‚**

åªä¸è¿‡ `jest` çš„å¿«ç…§æµ‹è¯•æä¾›äº†æ›´é«˜çº§çš„åŠŸèƒ½ï¼š

1. è‡ªåŠ¨åˆ›å»ºæŠŠè¾“å‡ºå†…å®¹å†™åˆ° `.snap` å¿«ç…§æ–‡ä»¶ï¼Œä¸‹æ¬¡æµ‹è¯•æ—¶å¯ä»¥è‡ªåŠ¨å¯¹æ¯”
2. è¾“å‡ºæ ¼å¼åŒ–çš„å¿«ç…§æ–‡ä»¶ï¼Œé˜…è¯»å‹å¥½ï¼Œå¼€å‘è€…æ›´å®¹æ˜“çœ‹æ‡‚
3. å½“åœ¨åš `diff` å¯¹æ¯”æ—¶ï¼Œ`jest` èƒ½é«˜äº®å·®å¼‚ç‚¹ï¼Œè€Œä¸”å¯¹æ¯”ä¿¡æ¯æ›´å®¹æ˜“é˜…è¯»

å¿«ç…§æµ‹è¯•é€šè¿‡è¯´æ˜æ¸²æŸ“ç»„ä»¶æ²¡æœ‰å˜ï¼Œå¦‚æœä¸é€šè¿‡åˆ™æœ‰ä¸¤ç§å¯èƒ½ï¼š

1. **ä»£ç æœ‰ Bugã€‚** æœ¬æ¥å¥½å¥½çš„ï¼Œè¢«ä½ è¿™ä¹ˆä¸€æ”¹ï¼Œæ”¹å‡ºäº†é—®é¢˜
2. **å®ç°äº†æ–°åŠŸèƒ½ã€‚** æ–°åŠŸèƒ½å¯èƒ½ä¼šæ”¹å˜åŸæœ‰çš„ DOM ç»“æ„ï¼Œæ‰€ä»¥ä½ è¦ç”¨ `jest --updateSnapshot` æ¥æ›´æ–°å¿«ç…§

åœ¨title.test.tsxä¸­æ·»åŠ ä¸€ä¸ªå¿«ç…§æµ‹è¯•

```tsx
// tests/components/Title.test.tsx
import React from "react";
import { render } from "@testing-library/react";
import Title from "components/Title";

describe("Title", () => {
  it("å¯ä»¥æ­£ç¡®æ¸²æŸ“å¤§å­—", () => {
    const { baseElement } = render(<Title type="large" title="å¤§å­—" />);
    expect(baseElement).toMatchSnapshot();
  });

  it("å¯ä»¥æ­£ç¡®æ¸²æŸ“å°å­—", () => {
    const { baseElement } = render(<Title type="small" title="å°å­—" />);
    expect(baseElement).toMatchSnapshot();
  });
});
```

æ‰§è¡Œæµ‹è¯•åï¼Œä¼šå‘ç°åœ¨ `tests/components/` ä¸‹å¤šäº†ä¸€ä¸ª `Title.test.tsx.snap` æ–‡ä»¶

```tsx
// tests/components/Title.test.tsx.snap
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`Title å¯ä»¥æ­£ç¡®æ¸²æŸ“å¤§å­— 1`] = `
<body>
  <div>
    <p
      style="font-size: 2em; color: red;"
    >
      å¤§å­—
    </p>
  </div>
</body>
`;

exports[`Title å¯ä»¥æ­£ç¡®æ¸²æŸ“å°å­— 1`] = `
<body>
  <div>
    <p
      style="font-size: 0.5em; color: green;"
    >
      å°å­—
    </p>
  </div>
</body>
`;
```

å¿«ç…§æµ‹è¯•çš„æ³¨æ„äº‹é¡¹

é¿å…å¤§å¿«ç…§

ç°åœ¨ `Title` æ¯”è¾ƒç®€å•ï¼Œæ‰€ä»¥çœ‹èµ·æ¥è¿˜å¯ä»¥ï¼Œä½†çœŸå®ä¸šåŠ¡ç»„ä»¶ä¸­åŠ¨è¾„å°±æœ‰åå‡ ä¸ªæ ‡ç­¾ï¼Œè¿˜å¸¦ä¸Šå¾ˆå¤šä¹±ä¸ƒå…«ç³Ÿçš„å±æ€§ï¼Œç”Ÿæˆçš„å¿«ç…§æ–‡ä»¶ä¼šå˜å¾—æ— æ¯”å·¨å¤§ã€‚

å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œ**æˆ‘ä»¬èƒ½åšçš„å°±æ˜¯é¿å…å¤§å¿«ç…§ï¼Œä¸è¦æ— è„‘åœ°è®°å½•æ•´ä¸ªç»„ä»¶çš„å¿«ç…§**ï¼Œç‰¹åˆ«æ˜¯æœ‰åˆ«çš„ UI ç»„ä»¶å‚ä¸å…¶ä¸­çš„æ—¶å€™

**æ‰€ä»¥ï¼Œå¯¹äºé‚£ç§è¾“å‡ºå¾ˆå¤æ‚ï¼Œè€Œä¸”ä¸æ–¹ä¾¿ç”¨ `expect` åšæ–­è¨€æ—¶ï¼Œå¿«ç…§æµ‹è¯•æ‰ç®—æ˜¯ä¸€ä¸ªå¥½æ–¹æ³•ã€‚** è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆç»„ä»¶ DOM ç»“æ„é€‚åˆåšå¿«ç…§ï¼Œå› ä¸º DOM ç»“æ„æœ‰å¤§é‡çš„å¤§äºã€å°äºã€å¼•å·è¿™äº›å­—ç¬¦ã€‚å¦‚æœéƒ½ç”¨ `expect` æ¥æ–­è¨€ï¼Œ`expect` çš„ç»“æœä¼šå†™å¾—éå¸¸ç—›è‹¦ã€‚ ä¸è¿‡ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼š**ä¸è¦æŠŠæ— å…³çš„ DOM ä¹Ÿè®°å½•åˆ°å¿«ç…§é‡Œï¼Œè¿™æ— æ³•è®©äººçœ‹æ‡‚ã€‚**

å‡é”™è¯¯

å‡å¦‚ç°åœ¨æŠŠ `title` çš„ â€œå¤§å­—â€ æ”¹æˆ â€œæˆ‘æ˜¯ä¸€ä¸ªå¤§å¸…å“¥ï¼Œé©¬ä¸Šå°±å¾—åˆ°ä¸€ä¸ªæ¸²æŸ“æŠ¥é”™

**è¿™é‡Œåªæ˜¯æ–‡æ¡ˆæ”¹äº†ä¸€ä¸‹ï¼Œä¸šåŠ¡ä»£ç å¹¶æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œæµ‹è¯•å´å‡ºé”™äº†ï¼Œè¿™å°±æ˜¯æµ‹è¯•ä¸­çš„ â€œå‡é”™è¯¯â€ã€‚** è™½ç„¶æ™®é€šçš„å•æµ‹ã€é›†æˆæµ‹è¯•é‡Œä¹Ÿå¯èƒ½å‡ºç° â€œå‡é”™è¯¯â€ï¼Œ ä½†æ˜¯å¿«ç…§æµ‹è¯•å‡ºç° â€œå‡é”™è¯¯â€ çš„æ¦‚ç‡ä¼šæ›´é«˜ï¼Œè¿™ä¹Ÿå¾ˆå¤šäººä¸ä¿¡ä»»å¿«ç…§æµ‹è¯•çš„ä¸»è¦åŸå› ã€‚

åœ¨ä¸€äº›å¤§å¿«ç…§ï¼Œå¤æ‚ç»„ä»¶çš„æƒ…å†µä¸‹ï¼Œåªè¦åˆ«çš„å¼€å‘è€…æ”¹äº†æŸä¸ªåœ°æ–¹ï¼Œå¾ˆå®¹æ˜“å¯¼è‡´ä¸€å¤§ç‰‡å¿«ç…§æŠ¥é”™ï¼ŒåŸºäºäººæ€§çš„å¼±ç‚¹ï¼Œä»–ä»¬æ˜¯æ²¡è€å¿ƒçœ‹æµ‹è¯•å¤±è´¥çš„åŸå› çš„ï¼Œ å†åŠ ä¸Šæ›´æ–°å¿«ç…§çš„æˆæœ¬å¾ˆä½ï¼Œåªè¦åŠ ä¸ª `--updateSnapshot` å°±å¯ä»¥äº†ï¼Œæ‰€ä»¥äººä»¬åœ¨é¢å¯¹å¿«ç…§æµ‹è¯•ä¸é€šè¿‡æ—¶ï¼Œå¾€å¾€é€‰æ‹©æ›´æ–°å¿«ç…§è€Œä¸å»æ€è€ƒ DOM ç»“æ„æ˜¯å¦çœŸçš„å˜äº†

è¿™äº›å› ç´ é€ æˆçš„æœ€ç»ˆç»“æœå°±æ˜¯ï¼š**ä¸å†ä¿¡ä»»å¿«ç…§æµ‹è¯•ã€‚** æ‰€ä»¥ï¼Œä½ ä¹Ÿä¼šå‘ç°å¸‚é¢ä¸Šå¾ˆå¤šå‰ç«¯æµ‹è¯•çš„æ€»ç»“ä»¥åŠæ–‡ç« éƒ½å¾ˆå°‘åš **å¿«ç…§æµ‹è¯•**ã€‚å¾ˆå¤§åŸå› æ˜¯å¿«ç…§æµ‹è¯•æœ¬èº«æ¯”è¾ƒè„†å¼±ï¼Œ è€Œä¸”å®¹æ˜“é€ æˆ â€œå‡é”™è¯¯â€

æ€»ç»“å‡ºå¿«ç…§æµ‹è¯•çš„é€‚ç”¨åœºæ™¯ï¼š

- **ç»„ä»¶ DOM ç»“æ„çš„å¯¹æ¯”**
- **åœ¨çº¿ä¸Šè·‘äº†å¾ˆä¹…çš„è€é¡¹ç›®**
- **å¤§å—æ•°æ®ç»“æœçš„å¯¹æ¯”**

æ›´æ–°å¿«ç…§

```shell
jest --updateSnapshot
```

è¿è¡Œä¸Šé¢çš„å‘½ä»¤è¡Œï¼Œå¹¶æ¥å—æ›´æ”¹ã€‚ ä½ å¯ä»¥ç”¨å•ä¸ªå­—ç¬¦å®ŒæˆåŒæ ·çš„äº‹æƒ… ï¼Œå¦‚ `jest -u`ã€‚ è¿™å°†ä¸ºæ‰€æœ‰å¤±è´¥çš„å¿«ç…§æµ‹è¯•é‡æ–°ç”Ÿæˆå¿«ç…§æ–‡ä»¶ã€‚ å¦‚æœæˆ‘ä»¬æ— æ„é—´äº§ç”Ÿäº†Bugå¯¼è‡´å¿«ç…§æµ‹è¯•å¤±è´¥ï¼Œåº”è¯¥å…ˆä¿®å¤è¿™äº›Bugï¼Œå†ç”Ÿæˆå¿«ç…§æ–‡ä»¶ï¼Œä»¥é¿å…ç”¨å¿«ç…§å½•åˆ¶äº†é”™è¯¯çš„è¡Œä¸ºã€‚

å†…è”å¿«ç…§

å†…è”å¿«ç…§å’Œæ™®é€šå¿«ç…§(`.snap` æ–‡ä»¶)è¡¨ç°ä¸€è‡´ï¼Œåªæ˜¯ä¼šå°†å¿«ç…§å€¼è‡ªåŠ¨å†™ä¼šæºä»£ç ä¸­ã€‚ è¿™æ„å‘³ç€ä½ å¯ä»¥ä»è‡ªåŠ¨ç”Ÿæˆçš„å¿«ç…§ä¸­å—ç›Šï¼Œå¹¶ä¸”ä¸ç”¨åˆ‡æ¢åˆ°é¢å¤–ç”Ÿæˆçš„å¿«ç…§æ–‡ä»¶ä¸­ä¿è¯å€¼çš„æ­£ç¡®æ€§ã€‚



#### ç»„ä»¶æµ‹è¯•

ç¼–å†™ç»„ä»¶æµ‹è¯•æ–‡ä»¶

```tsx
// tests/components/AuthButton/simple.test.tsx
import { render, screen } from "@testing-library/react";
import AuthButton from "components/AuthButton";
import React from "react";

describe('AuthButton', () => {
  it('å¯ä»¥æ­£å¸¸å±•ç¤º', () => {
    render(<AuthButton>ç™»å½•</AuthButton>)

    expect(screen.getByText('ç™»å½•')).toBeDefined();
  });
})
```

ç›´æ¥è¿™æ ·å†™jestä¼šæŠ¥é”™

**Jest ä¸ä¼šè½¬è¯‘ä»»ä½•å†…å®¹**ï¼Œå› æ­¤æˆ‘ä»¬ä¸€ç›´ç”¨ `tsc` æ¥è½¬è¯‘ TypeScriptã€‚**ç”±äº `tsc` çœ‹ä¸æ‡‚å¼•å…¥çš„ `.less`ï¼Œå¯¼è‡´äº† `Unexpected Token` æŠ¥é”™**

**æ¯”è¾ƒæ¨èçš„æ–¹æ³•æ˜¯æŠŠ `.less` è½¬è¯‘æˆç©ºæ–‡ä»¶**

é™¤äº† `.less` æ–‡ä»¶ï¼Œæˆ‘ä»¬è¿˜è¦å¯¹é JS é™æ€èµ„æºåšè½¬è¯‘ï¼Œæ¯”å¦‚ `jpg`, `svg`, `png` ç­‰ç­‰ï¼ˆè¿™äº›ä¸ä¼šå½±å“æµ‹è¯•ï¼‰ã€‚

```shell
npm i -D jest-transform-stub@2.0.0
```

æ·»åŠ è½¬è¯‘é…ç½®

```javascript
// jest.config.js
module.exports = {
  // ...
  transform: {
    ".+\\.(css|styl|less|sass|scss|png|jpg|ttf|woff|woff2)$": "jest-transform-stub"
  } 
}
```

#### redux



#### react hooks

æµ‹è¯•hooksæ—¶ä¸èƒ½åƒçº¯å‡½æ•°ä¸€æ ·ç›´æ¥åœ¨æµ‹è¯•æ–‡ä»¶ä¸­ä½¿ç”¨hooksï¼Œå› ä¸ºreactåªå…è®¸åœ¨ç»„ä»¶é¡¶å±‚ä½¿ç”¨hooks

å¼•å…¥@testing-library/react-hooks

```shell
npm i -D @testing-library/react-hooks@8.0.0
```

ä½¿ç”¨

```tsx
// tests/hooks/useCounter/renderHook.test.ts
import { renderHook } from "@testing-library/react-hooks";
import useCounter from "hooks/useCounter";
import { act } from "@testing-library/react";

describe("useCounter", () => {
  it("å¯ä»¥åšåŠ æ³•", () => {
    const { result } = renderHook(() => useCounter(0));

    act(() => {
      result.current[1].inc(1);
    });

    expect(result.current[0]).toEqual(1);
  });

  it("å¯ä»¥åšå‡æ³•", () => {
    const { result } = renderHook(() => useCounter(0));

    act(() => {
      result.current[1].dec(1);
    });

    expect(result.current[0]).toEqual(-1);
  });

  it("å¯ä»¥è®¾ç½®å€¼", () => {
    const { result } = renderHook(() => useCounter(0));

    act(() => {
      result.current[1].inc(10);
    });

    expect(result.current[0]).toEqual(10);
  });

  it("å¯ä»¥é‡ç½®å€¼", () => {
    const { result } = renderHook(() => useCounter(0));

    act(() => {
      result.current[1].inc(1);
      result.current[1].reset();
    });

    expect(result.current[0]).toEqual(0);
  });

  it("å¯ä»¥ä½¿ç”¨æœ€å¤§å€¼", () => {
    const { result } = renderHook(() => useCounter(100, { max: 10 }));

    expect(result.current[0]).toEqual(10);
  });

  it("å¯ä»¥ä½¿ç”¨æœ€å°å€¼", () => {
    const { result } = renderHook(() => useCounter(0, { min: 10 }));

    expect(result.current[0]).toEqual(10);
  });
});
```

#### æµ‹è¯•å¼‚æ­¥ä»£ç 

åœ¨JavaScriptä¸­æ‰§è¡Œå¼‚æ­¥ä»£ç æ˜¯å¾ˆå¸¸è§çš„ã€‚ å½“ä½ æœ‰ä»¥å¼‚æ­¥æ–¹å¼è¿è¡Œçš„ä»£ç æ—¶ï¼ŒJest éœ€è¦çŸ¥é“å½“å‰å®ƒæµ‹è¯•çš„ä»£ç æ˜¯å¦å·²å®Œæˆï¼Œç„¶åå®ƒå¯ä»¥è½¬ç§»åˆ°å¦ä¸€ä¸ªæµ‹è¯•ã€‚ Jestæœ‰è‹¥å¹²æ–¹æ³•å¤„ç†è¿™ç§æƒ…å†µã€‚

ä¸ºä½ çš„æµ‹è¯•è¿”å›ä¸€ä¸ªPromiseï¼Œåˆ™Jestä¼šç­‰å¾…Promiseçš„resoveçŠ¶æ€ å¦‚æœ Promise çš„çŠ¶æ€å˜ä¸º rejected, æµ‹è¯•å°†ä¼šå¤±è´¥ã€‚

ä¾‹å¦‚ï¼Œæœ‰ä¸€ä¸ªåä¸º`fetchData`çš„Promise, å‡è®¾å®ƒä¼šè¿”å›å†…å®¹ä¸º`'peanut butter'`çš„å­—ç¬¦ä¸² æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æµ‹è¯•ä»£ç ï¸°

```javascript
test('the data is peanut butter', () => {
  return fetchData().then(data => {
    expect(data).toBe('peanut butter');
  });
});
```

æˆ–è€…ï¼Œæ‚¨å¯ä»¥åœ¨æµ‹è¯•ä¸­ä½¿ç”¨ `async` å’Œ `await`ã€‚ å†™å¼‚æ­¥æµ‹è¯•ç”¨ä¾‹æ—¶ï¼Œå¯ä»¥åœ¨ä¼ é€’ç»™`test`çš„å‡½æ•°å‰é¢åŠ ä¸Š`async`ã€‚ ä¾‹å¦‚ï¼Œå¯ä»¥ç”¨æ¥æµ‹è¯•ç›¸åŒçš„ `fetchData` æ–¹æ¡ˆ

```javascript
test('the data is peanut butter', async () => {
  const data = await fetchData();
  expect(data).toBe('peanut butter');
});

test('the fetch fails with an error', async () => {
  expect.assertions(1);
  try {
    await fetchData();
  } catch (e) {
    expect(e).toMatch('error');
  }
});
```

### jestå‘¨è¾¹å·¥å…·

Jest-changed-files

ç”¨äºè¯†åˆ« git/hg å­˜å‚¨åº“ä¸­å·²ä¿®æ”¹æ–‡ä»¶çš„å·¥å…·ã€‚ å¯¼å‡ºä¸¤ä¸ªå‡½æ•°ï¼š

- `getChangedFilesForRoots` è¿”å›ä¸€ä¸ªresolvedçŠ¶æ€çš„Promiseï¼Œæ­¤PromiseåŒ…å«ä¿®æ”¹æ–‡ä»¶å’Œä»“åº“ä¿¡æ¯ã€‚
- `findRepos` è¿”å›ä¸€ä¸ªresolvedçŠ¶æ€çš„Promiseï¼Œæ­¤PromiseåŒ…å«æŒ‡å®šè·¯å¾„çš„ä¸€ç»„ä»“åº“æ•°æ®ã€‚

```javascript
const {getChangedFilesForRoots} = require('jest-changed-files');

// æ‰“å°å‡ºå½“å‰ç›®å½•æœ€åä¿®æ”¹è¿‡çš„ä¸€ç»„æ–‡ä»¶
getChangedFilesForRoots(['./'], {
  lastCommit: true,
}).then(result => console.log(result.changedFiles));
```

jest-diff

æ•°æ®æ›´æ”¹çš„å¯è§†åŒ–å·¥å…·ã€‚ è¾“å‡ºä¸€ä¸ªå‡½æ•°ï¼Œä¸¤ä¸ªä»»ä½•ç±»å‹çš„å€¼è¾“å…¥è¯¥å‡½æ•°åï¼Œè¿”å›ä¸€ä¸ªâ€œè¾ƒæ˜“è¯»â€çš„å­—ç¬¦ä¸²æ¥å±•ç°å…¶åŒºåˆ«ã€‚

```javascript
const {diff} = require('jest-diff');

const a = {a: {b: {c: 5}}};
const b = {a: {b: {c: 6}}};

const result = diff(a, b);

// æ‰“å°ä¸¤ä¸ªå€¼çš„å·®å¼‚
console.log(result);
```

jest-docblock

æå–å’Œè§£æ JavaScript æ–‡ä»¶é¡¶éƒ¨æ³¨é‡Šçš„å·¥å…·ï¼Œ å¯¼å‡ºå„ç§å‡½æ•°æ¥æ“ä½œæ³¨é‡Šå—å†…çš„æ•°æ®ã€‚

```javascript
const {parseWithComments} = require('jest-docblock');

const code = `
/**
 * This is a sample
 *
 * @flow
 */

 console.log('Hello World!');
`;

const parsed = parseWithComments(code);

// æ‰“å°ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå±æ€§çš„å¯¹è±¡: comments and pragmas.
console.log(parsed);
```

Jest-get-type

ç”¨äºè¯†åˆ«ä»»ä½• JavaScript å€¼çš„åŸå§‹ç±»å‹çš„æ¨¡å—ï¼Œ æ¨¡å—å¯¼å‡ºäº†ä¸€ä¸ªå¯ä»¥è¯†åˆ«ä¼ å…¥å‚æ•°ç±»å‹å¹¶å°†ç±»å‹ä»¥å­—ç¬¦ä¸²ä½œä¸ºè¿”å›å€¼çš„å‡½æ•°ã€‚

```javascript
const {getType} = require('jest-get-type');

const array = [1, 2, 3];
const nullValue = null;
const undefinedValue = undefined;

// prints 'array'
console.log(getType(array));
// prints 'null'
console.log(getType(nullValue));
// prints 'undefined'
console.log(getType(undefinedValue));
```



## Enzyme

è¿™æ˜¯ä¸€ä¸ªç”± Airbnb ç¼–å†™çš„åŒ…è£…åº“ï¼Œå®ƒä½¿å¾—æµ‹è¯• React ç»„ä»¶å˜å¾—æ›´å®¹æ˜“ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜è¦ä¸ºæˆ‘ä»¬ä½¿ç”¨çš„ React ä¸åŒç‰ˆæœ¬å®‰è£…é€‚é…å™¨

Enzymeçš„APIå’ŒjQueryæ“ä½œDOMä¸€æ ·çµæ´»æ˜“ç”¨ï¼Œå› ä¸ºå®ƒä½¿ç”¨çš„æ˜¯cheerioåº“æ¥è§£æè™šæ‹ŸDOMï¼Œè€Œcheerioçš„ç›®æ ‡åˆ™æ˜¯åšæœåŠ¡å™¨ç«¯çš„jQueryã€‚Enzymeå…¼å®¹å¤§å¤šæ•°æ–­è¨€åº“å’Œæµ‹è¯•æ¡†æ¶ï¼Œå¦‚chaiã€mochaã€jasmineç­‰ã€‚

å®‰è£…

```shell
npm i --save-dev enzyme enzyme-adapter-react-16
```

enzymeæ”¯æŒä¸‰ç§æ–¹å¼çš„æ¸²æŸ“ï¼š

shallowï¼šæµ…æ¸²æŸ“ï¼Œæ˜¯å¯¹å®˜æ–¹çš„Shallow Rendererçš„å°è£…ã€‚å°†ç»„ä»¶æ¸²æŸ“æˆè™šæ‹ŸDOMå¯¹è±¡ï¼Œåªä¼šæ¸²æŸ“ç¬¬ä¸€å±‚ï¼Œå­ç»„ä»¶å°†ä¸ä¼šè¢«æ¸²æŸ“å‡ºæ¥ï¼Œå› è€Œæ•ˆç‡éå¸¸é«˜ã€‚ä¸éœ€è¦DOMç¯å¢ƒï¼Œ å¹¶å¯ä»¥ä½¿ç”¨jQueryçš„æ–¹å¼è®¿é—®ç»„ä»¶çš„ä¿¡æ¯ï¼›

renderï¼šé™æ€æ¸²æŸ“ï¼Œå®ƒå°†Reactç»„ä»¶æ¸²æŸ“æˆé™æ€çš„HTMLå­—ç¬¦ä¸²ï¼Œç„¶åä½¿ç”¨Cheerioè¿™ä¸ªåº“è§£æè¿™æ®µå­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ä¸€ä¸ªCheerioçš„å®ä¾‹å¯¹è±¡ï¼Œå¯ä»¥ç”¨æ¥åˆ†æç»„ä»¶çš„htmlç»“æ„ã€‚

mountï¼šå®Œå…¨æ¸²æŸ“ï¼Œå®ƒå°†ç»„ä»¶æ¸²æŸ“åŠ è½½æˆä¸€ä¸ªçœŸå®çš„DOMèŠ‚ç‚¹ï¼Œç”¨æ¥æµ‹è¯•DOM APIçš„äº¤äº’å’Œç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸï¼Œç”¨åˆ°äº†jsdomæ¥æ¨¡æ‹Ÿæµè§ˆå™¨ç¯å¢ƒã€‚

enzymeä¸­æœ‰å‡ ä¸ªæ¯”è¾ƒæ ¸å¿ƒçš„å‡½æ•°éœ€è¦æ³¨æ„ï¼Œå¦‚ä¸‹ï¼š

simulate(event, mock)ï¼šç”¨æ¥æ¨¡æ‹Ÿäº‹ä»¶è§¦å‘ï¼Œeventä¸ºäº‹ä»¶åç§°ï¼Œmockä¸ºä¸€ä¸ªevent objectï¼›

instance()ï¼šè¿”å›æµ‹è¯•ç»„ä»¶çš„å®ä¾‹ï¼›

find(selector)ï¼šæ ¹æ®é€‰æ‹©å™¨æŸ¥æ‰¾èŠ‚ç‚¹ï¼Œselectorå¯ä»¥æ˜¯CSSä¸­çš„é€‰æ‹©å™¨ï¼Œä¹Ÿå¯ä»¥æ˜¯ç»„ä»¶çš„æ„é€ å‡½æ•°ï¼Œä»¥åŠç»„ä»¶çš„display nameç­‰ï¼›

at(index)ï¼šè¿”å›ä¸€ä¸ªæ¸²æŸ“è¿‡çš„å¯¹è±¡ï¼›

get(index)ï¼šè¿”å›ä¸€ä¸ªreact nodeï¼Œè¦æµ‹è¯•å®ƒï¼Œéœ€è¦é‡æ–°æ¸²æŸ“ï¼›

contains(nodeOrNodes)ï¼šå½“å‰å¯¹è±¡æ˜¯å¦åŒ…å«å‚æ•°é‡ç‚¹ nodeï¼Œå‚æ•°ç±»å‹ä¸ºreactå¯¹è±¡æˆ–å¯¹è±¡æ•°ç»„ï¼›

text()ï¼šè¿”å›å½“å‰ç»„ä»¶çš„æ–‡æœ¬å†…å®¹ï¼›

html()ï¼š è¿”å›å½“å‰ç»„ä»¶çš„HTMLä»£ç å½¢å¼ï¼›

props()ï¼šè¿”å›æ ¹ç»„ä»¶çš„æ‰€æœ‰å±æ€§ï¼›

prop(key)ï¼šè¿”å›æ ¹ç»„ä»¶çš„æŒ‡å®šå±æ€§ï¼›

state()ï¼šè¿”å›æ ¹ç»„ä»¶çš„çŠ¶æ€ï¼›

setState(nextState)ï¼šè®¾ç½®æ ¹ç»„ä»¶çš„çŠ¶æ€ï¼›

setProps(nextProps)ï¼šè®¾ç½®æ ¹ç»„ä»¶çš„å±æ€§ï¼›

åˆ©ç”¨enzymeæ¸²æŸ“ã€æ“ä½œdomï¼Œè¿™æ ·å°±å¯ä»¥é…åˆJestè¿›è¡Œæµ‹è¯•

```react
import React from 'react'
import { mount } from 'enzyme'
import TodoItem from '../../src/components/TodoItem.jsx'

describe('å¾…åŠäº‹é¡¹-åˆ—è¡¨é¡¹ç»„ä»¶', () => {
  test('æ¸²æŸ“å¾…åŠäº‹é¡¹åˆ—è¡¨é¡¹', () => {
    const todo = {id: 2, title: 'å¤ä¹  React Hooks ä½¿ç”¨', completed: false}
    const wrapper = mount(
      <TodoItem todo={todo} />
    )
    const p = wrapper.find('p')
    expect(p.text()).toBe('å¤ä¹  React Hooks ä½¿ç”¨')
  })
})
```



### Sinon





## Vitest



## è§†è§‰æµ‹è¯•

### resemblejs

